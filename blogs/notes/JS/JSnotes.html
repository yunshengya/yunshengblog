<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS的难点重点 | 云升杂货铺  </title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="dns-prefetch" href="https://s2.loli.net">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <meta name="description" content="yunsheng 's blog">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.b2d462f7.css" as="style"><link rel="preload" href="/assets/js/app.63ebb374.js" as="script"><link rel="preload" href="/assets/js/6.84a570ca.js" as="script"><link rel="preload" href="/assets/js/18.e2a079ee.js" as="script"><link rel="preload" href="/assets/js/14.2c456fe0.js" as="script"><link rel="prefetch" href="/assets/js/1.0976e6b6.js"><link rel="prefetch" href="/assets/js/10.e4a160a0.js"><link rel="prefetch" href="/assets/js/11.5b36abae.js"><link rel="prefetch" href="/assets/js/12.116f564c.js"><link rel="prefetch" href="/assets/js/13.3ca2406e.js"><link rel="prefetch" href="/assets/js/15.a2d3249a.js"><link rel="prefetch" href="/assets/js/16.b8430c5f.js"><link rel="prefetch" href="/assets/js/17.60b7b9fe.js"><link rel="prefetch" href="/assets/js/19.ba10a952.js"><link rel="prefetch" href="/assets/js/2.09e1c482.js"><link rel="prefetch" href="/assets/js/20.dd1876ae.js"><link rel="prefetch" href="/assets/js/21.86b7dc47.js"><link rel="prefetch" href="/assets/js/22.d20a6515.js"><link rel="prefetch" href="/assets/js/23.de12f417.js"><link rel="prefetch" href="/assets/js/24.c968462b.js"><link rel="prefetch" href="/assets/js/25.82d20d95.js"><link rel="prefetch" href="/assets/js/26.f40cb151.js"><link rel="prefetch" href="/assets/js/27.0607066f.js"><link rel="prefetch" href="/assets/js/28.1baedc6b.js"><link rel="prefetch" href="/assets/js/29.fadc1f7f.js"><link rel="prefetch" href="/assets/js/3.6bbdefb8.js"><link rel="prefetch" href="/assets/js/5.7d7a23dd.js"><link rel="prefetch" href="/assets/js/7.f6d2c82d.js"><link rel="prefetch" href="/assets/js/8.37fde8cf.js"><link rel="prefetch" href="/assets/js/9.e7a9b7c2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b2d462f7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-557c036c><div data-v-557c036c><div id="loader-wrapper" class="loading-wrapper" data-v-5119ec58 data-v-557c036c data-v-557c036c><!----> <div class="loadingImageContainer" data-v-5119ec58><img src="/assets/img/pikachu-running.c05c8686.gif" data-v-5119ec58></div></div> <div class="hide" data-v-557c036c><header class="navbar" data-v-557c036c><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="云升杂货铺  " class="logo"> <span class="site-name">云升杂货铺  </span></a> <div class="links"><div id="dayNightSwitch" class="generalWrapper" data-v-7f4daaf7><a class="click" data-v-7f4daaf7><div class="onOff daySwitch" data-v-7f4daaf7><div class="star star1" data-v-7f4daaf7></div> <div class="star star2" data-v-7f4daaf7></div> <div class="star star3" data-v-7f4daaf7></div> <div class="star star4" data-v-7f4daaf7></div> <div class="star star5" data-v-7f4daaf7></div> <div class="star sky" data-v-7f4daaf7></div> <div class="sunMoon" data-v-7f4daaf7><div class="crater crater1" data-v-7f4daaf7></div> <div class="crater crater2" data-v-7f4daaf7></div> <div class="crater crater3" data-v-7f4daaf7></div> <div class="cloud part1" data-v-7f4daaf7></div> <div class="cloud part2" data-v-7f4daaf7></div></div></div></a></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <div class="navLinksContainer can-hide"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper open"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow down"></span></a> <ul class="nav-dropdown"><li class="dropdown-item"><!----> <a href="/categories/HTTP/" class="nav-link"><i class="undefined"></i>
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/categories/ES5/" class="nav-link"><i class="undefined"></i>
  ES5
</a></li><li class="dropdown-item"><!----> <a href="/categories/React/" class="nav-link"><i class="undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/categories/TypeScript/" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue2/" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/categories/Router/" class="nav-link"><i class="undefined"></i>
  Router
</a></li><li class="dropdown-item"><!----> <a href="/categories/网站搭建相关/" class="nav-link"><i class="undefined"></i>
  网站搭建相关
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS/" class="nav-link"><i class="undefined"></i>
  JS
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper open"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow down"></span></a> <ul class="nav-dropdown"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link"><i class="undefined"></i>
  记事本
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper open"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow down"></span></a> <ul class="nav-dropdown"><li class="dropdown-item"><!----> <a href="https://github.com/1617428415" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.weixin.qq.com/s/tYV7BDCiLxyetAP6U44EYw" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-wechat"></i>
  微信公众号
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/u28791688" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  语雀
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></div></header> <div class="sidebar-mask" data-v-557c036c></div> <aside class="sidebar" data-v-557c036c><div class="personal-info-wrapper" data-v-86274362 data-v-557c036c><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-86274362> <h3 class="name" data-v-86274362>
    yunsheng
  </h3> <div class="num" data-v-86274362><div data-v-86274362><h3 data-v-86274362>12</h3> <h6 data-v-86274362>Articles</h6></div> <div data-v-86274362><h3 data-v-86274362>10</h3> <h6 data-v-86274362>Tags</h6></div></div> <ul class="social-links" data-v-86274362></ul> <hr data-v-86274362></div> <div class="navLinksContainer"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper open"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow down"></span></a> <ul class="nav-dropdown"><li class="dropdown-item"><!----> <a href="/categories/HTTP/" class="nav-link"><i class="undefined"></i>
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/categories/ES5/" class="nav-link"><i class="undefined"></i>
  ES5
</a></li><li class="dropdown-item"><!----> <a href="/categories/React/" class="nav-link"><i class="undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/categories/TypeScript/" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue2/" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/categories/Router/" class="nav-link"><i class="undefined"></i>
  Router
</a></li><li class="dropdown-item"><!----> <a href="/categories/网站搭建相关/" class="nav-link"><i class="undefined"></i>
  网站搭建相关
</a></li><li class="dropdown-item"><!----> <a href="/categories/JS/" class="nav-link"><i class="undefined"></i>
  JS
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper open"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow down"></span></a> <ul class="nav-dropdown"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link"><i class="undefined"></i>
  记事本
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper open"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow down"></span></a> <ul class="nav-dropdown"><li class="dropdown-item"><!----> <a href="https://github.com/1617428415" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.weixin.qq.com/s/tYV7BDCiLxyetAP6U44EYw" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-wechat"></i>
  微信公众号
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/u28791688" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  语雀
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div> <!----> </aside> <div data-v-557c036c><main class="page"><section><div class="page-title"><h1 class="title">JS的难点重点</h1> <div data-v-20ea63ee><i class="iconfont reco-account" data-v-20ea63ee><span data-v-20ea63ee>yunsheng</span></i> <i class="iconfont reco-date" data-v-20ea63ee><span data-v-20ea63ee>2/12/2021</span></i> <i class="iconfont reco-eye" data-v-20ea63ee><span id="/blogs/notes/JS/JSnotes.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-20ea63ee><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-20ea63ee><span class="tag-item" data-v-20ea63ee>JS</span></i></div></div> <div class="theme-reco-content content__default"><div class="custom-block tip"><p class="title">摘要</p><p>记录JS中重点难点知识点，特别是面试必问的原理点<br></p></div> <h1 id="一、js基础总结"><a href="#一、js基础总结" class="header-anchor">#</a> 一、JS基础总结</h1> <h2 id="_01-js基础总结"><a href="#_01-js基础总结" class="header-anchor">#</a> 01 JS基础总结</h2> <h3 id="_1-基本类型"><a href="#_1-基本类型" class="header-anchor">#</a> 1）基本类型:</h3> <ul><li>String: 任意字符串</li> <li>Number: 任意的数字</li> <li>boolean: true/false</li> <li>undefined: undefined</li> <li>null: null</li></ul> <h3 id="_2-对象-引用-类型"><a href="#_2-对象-引用-类型" class="header-anchor">#</a> 2）对象（引用）类型</h3> <ul><li>Object: 任意对象</li> <li>Function：一种特别的对象（可以执行）</li> <li>Array：一种特别的对象（数值下标，内部数据是有序的）</li></ul> <h3 id="判断"><a href="#判断" class="header-anchor">#</a> 判断</h3> <h4 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h4> <ul><li><p>可以判断undefined、数值、字符串、boolean值、function</p></li> <li><p>不能判断：null 与 object  object 与array(因为typeof返回了object，无法判断为数组)</p> <p>事实上，typeof 对于null、object和array都是返回object</p> <p>返回数据类型的字符串表达</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">typeof</span> a<span class="token punctuation">)</span> <span class="token comment">//undefined 'undefined'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">typeof</span> a<span class="token punctuation">,</span> <span class="token keyword">typeof</span> a <span class="token operator">=</span> <span class="token string">'undefined'</span> <span class="token punctuation">,</span>a <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
<span class="token comment">//undefined 'undefined' true true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h4> <ul><li>判断对象的具体类型</li> <li>B instanceof A //判断B是否是A的实例</li></ul> <h4 id="不会做数据转换"><a href="#不会做数据转换" class="header-anchor">#</a> = (不会做数据转换)</h4> <ul><li>可以判断：undefined, null</li></ul> <h3 id="重点问题"><a href="#重点问题" class="header-anchor">#</a> 重点问题：</h3> <h4 id="_1、undefined与null区别"><a href="#_1、undefined与null区别" class="header-anchor">#</a> 1、undefined与null区别？</h4> <ul><li><p>undefined代表定义了未赋值</p></li> <li><p>null 定义了并且赋值了null</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//undefined</span>
a <span class="token operator">=</span> <span class="token keyword">null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2、什么时候给变量赋值null"><a href="#_2、什么时候给变量赋值null" class="header-anchor">#</a> 2、什么时候给变量赋值null?</h4> <ul><li><p>初始赋值，表明将要赋值为对象</p></li> <li><p>结束前赋值，让对象成为垃圾对象（被垃圾回收期回收）</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">//初始</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">//初始赋值为null,表明将要赋值为对象</span>
  b <span class="token operator">=</span> <span class="token string">'pika'</span> <span class="token comment">//确定对象就赋值</span>
  <span class="token comment">//最后</span>
  b <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">//让b指向的对象成为垃圾对象（被垃圾回收器回收 ）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_3、怎么样严格区分变量类型和数据类型"><a href="#_3、怎么样严格区分变量类型和数据类型" class="header-anchor">#</a> 3、怎么样严格区分变量类型和数据类型？</h4> <ul><li><p>数据的类型</p> <ul><li>基本类型</li> <li>对象类型</li></ul></li> <li><p>变量的类型（变量内存值的类型，变量本身是没有类型的）</p> <ul><li><p>基本类型：保存的是基本类型的数据</p></li> <li><p>引用类型：保存的是地址值</p></li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//给变量c赋值</span>
    <span class="token keyword">var</span> <span class="token function-variable function">c</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> c<span class="token punctuation">)</span> <span class="token comment">// 输出'function'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_02-数据-变量-内存"><a href="#_02-数据-变量-内存" class="header-anchor">#</a> 02 数据_变量_内存</h2> <h3 id="重点问题-2"><a href="#重点问题-2" class="header-anchor">#</a> 重点问题：</h3> <h4 id="_1、什么是数据"><a href="#_1、什么是数据" class="header-anchor">#</a> 1、什么是数据？</h4> <ul><li><p>存储在内存中代表特定信息的'东东'，本质上是0101.....</p> <h5 id="数据的特点-可传递-可运算"><a href="#数据的特点-可传递-可运算" class="header-anchor">#</a> 数据的特点：可传递，可运算</h5> <h5 id="一切皆数据"><a href="#一切皆数据" class="header-anchor">#</a> 一切皆数据</h5> <h5 id="内存中所有操作的目标-数据"><a href="#内存中所有操作的目标-数据" class="header-anchor">#</a> 内存中所有操作的目标：数据</h5> <ul><li>算术运算</li> <li>逻辑运算</li> <li>数值</li> <li>运行函数</li></ul></li></ul> <h4 id="_2、什么是内存"><a href="#_2、什么是内存" class="header-anchor">#</a> 2、什么是内存？</h4> <ul><li><p>内存条通电后产生的可储存数据的空间</p></li> <li><p>内存产生和死亡：</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>内存条（电路板）<span class="token operator">-</span><span class="token operator">&gt;</span> 通电 <span class="token operator">-</span><span class="token operator">&gt;</span> 产生内存空间 <span class="token operator">-</span><span class="token operator">&gt;</span> 存储数据 <span class="token operator">-</span><span class="token operator">&gt;</span> 处理数据 <span class="token operator">-</span><span class="token operator">&gt;</span> 断电 <span class="token operator">-</span><span class="token operator">&gt;</span> 内存空间和数据都消失
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>一块小内存的2个数据 （标识+存储的数据，比如：obj:0x123）</p> <ul><li>内部存储的数据</li> <li>地址值</li></ul></li> <li><p>内存分类</p> <ul><li>栈 ：局部变量和全局变量</li> <li>堆：对象</li></ul></li></ul> <h4 id="_3、什么是变量"><a href="#_3、什么是变量" class="header-anchor">#</a> 3、什么是变量？</h4> <ul><li>可变化的量，由变量名和变量值组成</li> <li>每个变量都对应一块小内存，变量名用来查找对应的内存。变量值就是内存中保存的数据</li></ul> <h4 id="_4、内存-数据-变量三者关系"><a href="#_4、内存-数据-变量三者关系" class="header-anchor">#</a> 4、内存，数据，变量三者关系？</h4> <ul><li>内存用来存储数据的空间</li> <li>变量是内存的标识</li></ul> <h4 id="_5、赋值与内存的问题"><a href="#_5、赋值与内存的问题" class="header-anchor">#</a> 5、赋值与内存的问题？</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>问题： <span class="token keyword">var</span> a <span class="token operator">=</span> xxx<span class="token punctuation">,</span> a内存中到底保存的是什么？
答：
若xxx是基本数据，保存的就是这个数据
若xxx是对象，保存的就是对象的地址值
若xxx是一个变量，保存的是xxx的内存内容（可能是基本数据，也可能是地址值）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_6、关于引用变量赋值的问题"><a href="#_6、关于引用变量赋值的问题" class="header-anchor">#</a> 6、关于引用变量赋值的问题？</h4> <ul><li>n个引用变量指向同一个对象，通过一个变量修改对象内部数据，其他所有变量看到的是修改之后的数据</li> <li>2个引用变量指向同一个对象，让其中一个引用变量指向另一个对象，另一引用变量依然指向前一个对象</li> <li>改对象，改变量</li></ul> <h4 id="_7、在js调用函数时传递变量参数时-是值传递还是引用传递"><a href="#_7、在js调用函数时传递变量参数时-是值传递还是引用传递" class="header-anchor">#</a> 7、在js调用函数时传递变量参数时，是值传递还是引用传递？</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    a <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 这里输出3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>理解1: 都是值（基本/地址值）传递</li> <li>理解2：可能是值传递，也可能是引用传递（地址值）</li></ul> <h4 id="_8、js引擎如何管理内存"><a href="#_8、js引擎如何管理内存" class="header-anchor">#</a> 8、JS引擎如何管理内存？</h4> <h5 id="_1、内存生命周期"><a href="#_1、内存生命周期" class="header-anchor">#</a> 1、内存生命周期</h5> <ul><li>分配小内存空间，得到他的使用权</li> <li>存储数据，可以反复操作</li> <li>释放小内存空间</li></ul> <h5 id="_2、释放内存"><a href="#_2、释放内存" class="header-anchor">#</a> 2、释放内存</h5> <ul><li>局部变量：函数执行完自动释放</li> <li>对象：成为垃圾对象=&gt;垃圾回收器回收</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//b是自动释放，b所指向的对象是在后面的某个时刻由垃圾回收期回收</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_03-对象"><a href="#_03-对象" class="header-anchor">#</a> 03 对象</h2> <h3 id="重点问题-3"><a href="#重点问题-3" class="header-anchor">#</a> 重点问题：</h3> <h4 id="_1、什么是对象"><a href="#_1、什么是对象" class="header-anchor">#</a> 1、什么是对象？</h4> <ul><li>多个数据的分装体</li> <li>用来保存多个数据的容器</li> <li>一个对象代表现实中的一个事物</li></ul> <h4 id="_2、为什么要使用对象"><a href="#_2、为什么要使用对象" class="header-anchor">#</a> 2、为什么要使用对象？</h4> <ul><li>统一管理多个数据</li></ul> <h4 id="_3、对象的组成"><a href="#_3、对象的组成" class="header-anchor">#</a> 3、对象的组成</h4> <ul><li>属性：属性名（字符串）和属性值</li> <li>方法：一种特别的属性（属性值是函数）</li></ul> <h4 id="_4、如何访问对象内部数据"><a href="#_4、如何访问对象内部数据" class="header-anchor">#</a> 4、如何访问对象内部数据</h4> <ul><li>​	.属性名</li></ul> <p>JS访问对象属性有两种方法.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;Jack&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token function">alert</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//点号b</span>
<span class="token function">alert</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//中括号</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>第一是点符号法</p> <p>点号要求后面的运算元是合法的标识符（即合法的变量命名）</p> <p>第二是方括号表示法。括号之间的值可以是任何表达式只有这种是动态访问属性</p> <p>因此，如果属性名称存储在变量中，则可以使用中括号表示法。</p> <p>中括号要求的则是一个字符串即可，不必是合法的变量命名。如4p是不合法的变量命名（因为以数字开头），但却可以作为对象属性名(前提是字符串)</p> <h5 id="什么时候必须使用-属性名-的方式"><a href="#什么时候必须使用-属性名-的方式" class="header-anchor">#</a> 什么时候必须使用['属性名']的方式？</h5> <ul><li><p>属性名包含特殊字符</p></li> <li><p>变量名不确定</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//变量名不确定</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> propName <span class="token operator">=</span> ‘pika’
<span class="token comment">//p.propName = value 不能使用</span>
<span class="token constant">P</span><span class="token punctuation">[</span>propName<span class="token punctuation">]</span> <span class="token operator">=</span> value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_04-函数"><a href="#_04-函数" class="header-anchor">#</a> 04 函数</h2> <h3 id="重点问题-4"><a href="#重点问题-4" class="header-anchor">#</a> 重点问题：</h3> <h4 id="_1、什么是函数"><a href="#_1、什么是函数" class="header-anchor">#</a> 1、什么是函数？</h4> <ul><li>实现特定功能的n条语句的封装体</li> <li>只有函数时可以执行的，其他类型的数据不能执行</li></ul> <h4 id="_2、为什么要使用函数"><a href="#_2、为什么要使用函数" class="header-anchor">#</a> 2、为什么要使用函数？</h4> <ul><li>提高代码复用</li> <li>便于阅读交流</li></ul> <h4 id="_3、如何定义函数"><a href="#_3、如何定义函数" class="header-anchor">#</a> 3、如何定义函数？</h4> <ul><li>函数声明</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//函数声明</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;函数声明&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>表达式</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//表达式</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>“表达式”<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_4、如何调用-执行-函数"><a href="#_4、如何调用-执行-函数" class="header-anchor">#</a> 4、如何调用（执行）函数？</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>//注意这里的test()是举例的一个函数
//这里的obj是举例的一个对象
* test() 直接调用
* obj.test() 通过对象调用
* new test() new调用
* test.call/apply(obj) 临时让test成为obj的方法进行
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_05-回调函数"><a href="#_05-回调函数" class="header-anchor">#</a> 05 回调函数</h2> <h3 id="重点问题-5"><a href="#重点问题-5" class="header-anchor">#</a> 重点问题：</h3> <h4 id="_1、什么函数才是回调函数-需满足3个条件"><a href="#_1、什么函数才是回调函数-需满足3个条件" class="header-anchor">#</a> 1、什么函数才是回调函数？（需满足3个条件）</h4> <ul><li>你定义的</li> <li>你没有调用</li> <li>最终它执行了</li></ul> <h4 id="_2、常见的回调函数"><a href="#_2、常见的回调函数" class="header-anchor">#</a> 2、常见的回调函数？</h4> <ul><li>dom事件回调函数</li> <li>定时器回调函数</li> <li>ajax请求回调函数</li> <li>生命周期回调函数</li></ul> <h2 id="_06-iife"><a href="#_06-iife" class="header-anchor">#</a> 06 IIFE</h2> <h3 id="_1、理解"><a href="#_1、理解" class="header-anchor">#</a> 1、理解</h3> <p>全称：Immediately-Invoked Function Expression</p> <p>立即调用函数表达式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//匿名函数自调用</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//这里定义的a和上面的a相互之间不影响，因为在不同的作用域里面</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">4</span>
cosole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>

<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">++</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">$</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//向外暴露一个全局函数</span>
        <span class="token keyword">return</span><span class="token punctuation">{</span>
            <span class="token comment">//相当于[test:test]</span>
            <span class="token comment">//左边test是属性名，右边test是属性值</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span>test
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//这里我们想得到++a的输出</span>
<span class="token comment">//$是一个函数。$执行后返回的是一个对象</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_2、作用"><a href="#_2、作用" class="header-anchor">#</a> 2、作用</h3> <ul><li>隐藏实现</li> <li>不会污染外部命名空间（一般指全局命名空间）</li> <li>用它来编写js模块</li></ul> <h2 id="_07-函数的中的this"><a href="#_07-函数的中的this" class="header-anchor">#</a> 07 函数的中的this</h2> <h3 id="_1、this是什么"><a href="#_1、this是什么" class="header-anchor">#</a> 1、this是什么?</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getColor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setColor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span> <span class="token comment">//this是谁？ window</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;yellow&quot;</span><span class="token punctuation">)</span> <span class="token comment">//this是谁？ p</span>

p<span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//this是谁？ p</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
p<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span> <span class="token comment">//this是谁？ obj（call强制改变this的指向）</span>

<span class="token keyword">var</span> test <span class="token operator">=</span> p<span class="token punctuation">.</span>setColor
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//this是谁？ window</span>

<span class="token keyword">function</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//this是谁 window</span>
<span class="token punctuation">}</span>

<span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><ul><li>任何函数本质上都是通过某一个对象来调用的，如果没有指定就是window</li> <li>所有函数内部都有一个变量this</li> <li>他的值是调用函数的当前对象</li></ul> <h3 id="_2、如何确定this的值"><a href="#_2、如何确定this的值" class="header-anchor">#</a> 2、如何确定this的值？</h3> <ul><li>test()  window</li> <li>p.test() p</li> <li>new test() 新创建的对象</li> <li>p.call(obj) obj</li></ul> <h2 id="_08-js分号中的问题"><a href="#_08-js分号中的问题" class="header-anchor">#</a> 08 JS分号中的问题</h2> <p>1、js一条语句的后面可以不加分号</p> <p>2、是否加分号是编码风格问题，没有应该不应该，只有你自己喜欢不喜欢</p> <p>3、在下面2种情况下不加分号会有问题</p> <ul><li>小括号开头的前一条语句</li> <li>中方括号开头的前一条语句</li></ul> <p>4、解决方法：在行首加分号</p> <p>5、强有力的例子：vue.js库</p> <h1 id="二、js函数高级"><a href="#二、js函数高级" class="header-anchor">#</a> 二、JS函数高级</h1> <h2 id="_01-原型和原型链"><a href="#_01-原型和原型链" class="header-anchor">#</a> 01 原型和原型链</h2> <h3 id="_1、函数的prototype属性"><a href="#_1、函数的prototype属性" class="header-anchor">#</a> 1、函数的prototype属性</h3> <ul><li>每个函数对象都有一个prototype属性，它默认指向一个Object空对象（即称为：原型对象）</li> <li>new obj（）new出来的一个对象是没有prototype属性的</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//每个函数都有一个prototype属性，它默认指向一个Object空对象（即称为：原型对象）</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
fn2<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test()'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn1<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token comment">//默认指向一个Object空对象（没有我们的属性）</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn2<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token comment">//指向一个object对象（有我们的属性test）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>原型对象中有个属性constructor，它指向函数对象</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//原型对象中有个属性constructor，它指向函数对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Date</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor  Date<span class="token punctuation">)</span><span class="token comment">//输出true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2、给原型对象"><a href="#_2、给原型对象" class="header-anchor">#</a> 2、给原型对象</h3> <ul><li><p>作用：函数的所有实例对象自动拥有原型中的属性（方法）</p></li> <li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//给原型对象添加属性（一般是方法） =&gt; 实例对象可以访问</span>
<span class="token class-name">Fun</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test()'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//创建一个实例</span>
<span class="token keyword">var</span> fun <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	
fun<span class="token punctuation">,</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <h2 id="_02-显示原型和隐式原型"><a href="#_02-显示原型和隐式原型" class="header-anchor">#</a> 02 显示原型和隐式原型</h2> <h3 id="_1、每个函数function都有一个prototype-即显式原型-属性"><a href="#_1、每个函数function都有一个prototype-即显式原型-属性" class="header-anchor">#</a> 1、每个函数function都有一个prototype, 即显式原型（属性）</h3> <h3 id="_2、每个实例对象都有个-proto-可称为隐式原型-属性"><a href="#_2、每个实例对象都有个-proto-可称为隐式原型-属性" class="header-anchor">#</a> 2、每个实例对象都有个__proto__,可称为隐式原型（属性）</h3> <h3 id="_3、对象的隐式原型的值为其对应构造函数的显式原型的值"><a href="#_3、对象的隐式原型的值为其对应构造函数的显式原型的值" class="header-anchor">#</a> 3、对象的隐式原型的值为其对应构造函数的显式原型的值</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1、每个函数function都要一个prototype，即显式原型属性，默认指向一个空的Object对象</span>
<span class="token comment">//定义构造函数</span>
<span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//内部语句：this.prototype ={}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>

<span class="token comment">//2、每个实例对象都有一个__proto__，可称为隐式原型</span>
<span class="token comment">//创建实例对象</span>
<span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//内部语句：this.__proto__ = Fn.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>

<span class="token comment">//3、对象的隐式原型的值为其对应构造函数的显式原型的值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> fn<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">//true</span>

<span class="token comment">//给原型添加方法</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//通过实例调用原型的方法</span>
fn<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_4、内部结构图"><a href="#_4、内部结构图" class="header-anchor">#</a> 4、内部结构图</h3> <p><img alt="image-20220303132218240" data-src="https://s2.loli.net/2022/06/23/guDojHaqQxGZy5F.png" loading="lazy" class="lazy"></p> <h3 id="_5、总结"><a href="#_5、总结" class="header-anchor">#</a> 5、总结</h3> <ul><li>函数的prototype属性：在定义函数时自动添加的，默认值是一个空Object对象</li> <li>对象的__proto__属性：创建对象时自动添加的，默认值为构造函数的prototype属性值</li> <li>程序员能直接操作显式原型，但不能直接操作隐式原型（ES6之前）</li></ul> <h2 id="_03-原型链"><a href="#_03-原型链" class="header-anchor">#</a> 03 原型链</h2> <h3 id="_1、原型链-隐式原型链-图解"><a href="#_1、原型链-隐式原型链-图解" class="header-anchor">#</a> 1、原型链（隐式原型链）（图解）</h3> <ul><li>访问一个对象的属性时，
<ul><li>先在自身属性中查找，找到返回</li> <li>如果没有，再沿着__proto__这条链向上查找，找到返回</li> <li>如果最终没有找到，返回undefined</li></ul></li></ul> <p><img alt="image-20220303134312917" data-src="https://s2.loli.net/2022/06/23/cpfkPhbyqats5V1.png" loading="lazy" class="lazy"></p> <ul><li>原型链本质上是隐式原型链</li> <li>作用：查找对象的属性（方法）</li></ul> <h3 id="_2、构造函数-原型-实体对象的关系-图解"><a href="#_2、构造函数-原型-实体对象的关系-图解" class="header-anchor">#</a> 2、构造函数/原型/实体对象的关系（图解）</h3> <p><img alt="image-20220303135044729" data-src="https://s2.loli.net/2022/06/23/QS3hj8JAZavmKz5.png" loading="lazy" class="lazy"></p> <h3 id="_3、构造函数-原型-实体对象的关系2-图解"><a href="#_3、构造函数-原型-实体对象的关系2-图解" class="header-anchor">#</a> 3、构造函数/原型/实体对象的关系2（图解）</h3> <ul><li>所有函数都有显式原型和隐式原型</li> <li><img alt="image-20220303142201421" data-src="https://s2.loli.net/2022/06/23/MCZR6sOxYtfDLQh.png" loading="lazy" class="lazy"></li></ul> <p>问题：为什么Object是实例只能用Object.prototype中都方法，无法用Object都私有方法？
答：因为我们只能顺着原型链__proto__查找原型prototype上的方法，无法访问到其私有的方法。私有的方法和属性只有自己能调用。利用hasOwnProperty()方法可以区分是自己私有的，还是原型上的方法和属性。
prototype是自己私有的属性，但是prototype指向的堆中的方法和属性不是自己私有的。</p> <h3 id="_4、函数的显式原型指向的对象默认是空object实例对象-除object不满足"><a href="#_4、函数的显式原型指向的对象默认是空object实例对象-除object不满足" class="header-anchor">#</a> 4、函数的显式原型指向的对象默认是空Object实例对象（除Object不满足）</h3> <h3 id="即-xxx-prototype-instanceof-object"><a href="#即-xxx-prototype-instanceof-object" class="header-anchor">#</a> 即: xxx.prototype instanceof Object</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">//false,只有这个是例外</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_5、所有函数都是function的实例-包括function"><a href="#_5、所有函数都是function的实例-包括function" class="header-anchor">#</a> 5、所有函数都是Function的实例（包括Function）</h3> <h3 id="即-xxx-proto-function-prototype"><a href="#即-xxx-proto-function-prototype" class="header-anchor">#</a> 即：xxx.__proto__   = Function.prototype</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_6、object的原型对象是原型链尽头"><a href="#_6、object的原型对象是原型链尽头" class="header-anchor">#</a> 6、Object的原型对象是原型链尽头</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_04-原型链属性问题"><a href="#_04-原型链属性问题" class="header-anchor">#</a> 04 原型链属性问题</h2> <ul><li>读取对象的属性值时候，会自动到原型链（隐式原型链）中查找</li> <li>设置对象属性值时候：不会查找原型链，如果当前对象中没有此属性，直接添加此属性并设置其值</li> <li>方法一般定义在原型中，属性一般通过构造函数定义在对象本身上</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a <span class="token operator">=</span> ’xxx‘
<span class="token keyword">var</span> fn1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn1<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">//xxx</span>

<span class="token keyword">var</span> fn2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
fn2<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">'yyy'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn1<span class="token punctuation">.</span>a<span class="token punctuation">,</span> fn2<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token comment">//xxx yyy</span>

<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//方法一般定义在原型里</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="_05-instanceof-探索"><a href="#_05-instanceof-探索" class="header-anchor">#</a> 05 instanceof 探索</h2> <h3 id="_1、instanceof-是如何判断的"><a href="#_1、instanceof-是如何判断的" class="header-anchor">#</a> 1、instanceof 是如何判断的</h3> <ul><li>表达式 Ainstanceof B</li> <li>如果B函数的显式原型对象在A对象的原型链上，返回true, 否则返回false0</li></ul> <h2 id="_06-面试题-原型与原型链"><a href="#_06-面试题-原型与原型链" class="header-anchor">#</a> 06 面试题（原型与原型链）</h2> <h3 id="_1、测试题1"><a href="#_1、测试题1" class="header-anchor">#</a> 1、测试题1</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>n <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">A</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">n</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">m</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>n<span class="token punctuation">,</span> b<span class="token punctuation">.</span>m<span class="token punctuation">,</span> c<span class="token punctuation">.</span>n<span class="token punctuation">,</span> c<span class="token punctuation">.</span>m<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img alt="image-20220303163024695" data-src="https://s2.loli.net/2022/06/23/I6zAKonCjWOwlSx.png" loading="lazy" class="lazy"></p> <h3 id="_2、测试题2"><a href="#_2、测试题2" class="header-anchor">#</a> 2、测试题2</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a()'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b()'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//var F =function(){} 和 var f = new F()不同！！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><img alt="image-20220303171236209" data-src="https://s2.loli.net/2022/06/23/6BtnEpGxLsraNbR.png" loading="lazy" class="lazy"></p> <h2 id="_07-变量提升与函数提升"><a href="#_07-变量提升与函数提升" class="header-anchor">#</a> 07 变量提升与函数提升</h2> <p>变量作为window对象属性放入上下文栈中，这叫变量优先预处理，而函数的上下文后放入栈中，变量随后放入栈中，但是执行的时候是先执行栈顶的函数。</p> <p>函数提升优先级高是指先执行，所以对于栈的执行顺序来说，需要在变量提升之后提升</p> <h3 id="_1、变量声明提升"><a href="#_1、变量声明提升" class="header-anchor">#</a> 1、变量声明提升</h3> <ul><li>通过var定义(声明)的变量，在定义语句之前就可以访问到</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//面试题：输出a的值为多少</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//undefined</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">4</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//上面的代码实际执行是下面这段</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">4</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">/*****************************************/</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">//undefined 变量提升</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//可调用 函数提升</span>
<span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//不能 变量提升</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fn2()'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">fn3</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'fn3()'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_2、函数声明提升"><a href="#_2、函数声明提升" class="header-anchor">#</a> 2、函数声明提升</h3> <ul><li>通过function声明的函数，在之前就可以直接调用</li></ul> <h2 id="_08-执行上下文"><a href="#_08-执行上下文" class="header-anchor">#</a> 08 执行上下文</h2> <h3 id="_1、代码分类-位置"><a href="#_1、代码分类-位置" class="header-anchor">#</a> 1、代码分类（位置）</h3> <ul><li>全局代码</li> <li>函数（局部）代码</li></ul> <h3 id="_2、全局执行上下文-在执行全局代码前做的准备工作"><a href="#_2、全局执行上下文-在执行全局代码前做的准备工作" class="header-anchor">#</a> 2、全局执行上下文(在执行全局代码前做的准备工作)</h3> <ul><li>在执行全局代码前将window确定为全局执行上下文</li> <li>对全局数据进行预处理</li> <li>var定义传递全局变量 &gt; undefined, 添加为window的方法</li> <li>function 声明的全局函数 &gt; 赋值（fun）,添加为window 的方法</li> <li>this =&gt; 赋值（window）</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//全局执行上下文</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> window<span class="token punctuation">.</span>a1<span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">a2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> a1 <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">function</span> <span class="token function">a2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a2()'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>

<span class="token comment">//函数执行上下文</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span> <span class="token comment">//2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">//undefined</span>
    <span class="token function">a3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//a3()</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">//window</span>
    cosole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span> <span class="token comment">//这里的arguments是封装实参的类数组对象,这里输出（2,3）</span>
    
    <span class="token keyword">var</span> a2 <span class="token operator">=</span> <span class="token number">3</span>
    <span class="token keyword">function</span> <span class="token function">a3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a3()'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_3、函数执行上下文"><a href="#_3、函数执行上下文" class="header-anchor">#</a> 3、函数执行上下文</h3> <ul><li>在调用函数，准备执行函数体之前，创建对应的函数执行上下文对象（虚拟的，存在于栈中）</li> <li>对局部数据进行预处理
<ul><li>形参变量 &gt; 赋值（实参）&gt; 添加为执行上下文的属性</li> <li>arguments &gt; 赋值（实参列表），添加为执行上下文的属性</li> <li>var定义的局部变量 &gt; undefined, 添加为执行上下文的属性</li> <li>function声明的函数 &gt; 赋值（fun）,添加为执行上下文的方法</li> <li>this &gt; 赋值（调用函数的对象）</li></ul></li> <li>开始执行函数体代码</li></ul> <h3 id="_4、执行上下文对象个数-n-1原则"><a href="#_4、执行上下文对象个数-n-1原则" class="header-anchor">#</a> 4、执行上下文对象个数：n+1原则</h3> <p>n是函数调用次数，1是一个全局执行上下文对象</p> <h2 id="_09-执行上下文栈-后进先出lifo"><a href="#_09-执行上下文栈-后进先出lifo" class="header-anchor">#</a> 09 执行上下文栈(后进先出LIFO)</h2> <ul><li>在全局代码执行之前，JS引擎就会创建一个栈来存储管理所有的执行上下文对象</li> <li>在全局执行上下文（window）确定后，将其添加到栈中（压栈）</li> <li>在函数执行上下文创建之后，将其添加到栈中（压栈）</li> <li>在当前函数执行完毕后，将栈顶的对象移除（出栈）</li> <li>当所有的代码执行完之后，栈中只剩下window</li></ul> <p><img alt="image-20220304120906802" data-src="D:%5CSuper_mumu%5Ctypora%E6%96%87%E6%A1%A3%E8%B5%84%E6%96%99%5CJS%E9%AB%98%E7%BA%A7.assets%5Cimage-20220304120906802.png" loading="lazy" class="lazy"></p> <p><img alt="image-20220304121521915" data-src="https://s2.loli.net/2022/06/23/cQe5oaZzEUsJ1gw.png" loading="lazy" class="lazy"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'global begin:'</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i  <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo() begin:'</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
    <span class="token function">foo</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">//递归调用：在函数内部调用自己</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo() end: '</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'global end:'</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>

<span class="token comment">//上述代码依次输出什么？</span>
<span class="token comment">//整个过程中产生了几个执行上下文？ 5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_10-面试题-执行上下文与执行上下文栈"><a href="#_10-面试题-执行上下文与执行上下文栈" class="header-anchor">#</a> 10 面试题（执行上下文与执行上下文栈）</h2> <h3 id="_1、面试题1"><a href="#_1、面试题1" class="header-anchor">#</a> 1、面试题1</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//面试题1</span>
<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> a
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token punctuation">)</span> <span class="token comment">//function 	 	</span>

<span class="token comment">//函数提升优先级比变量提升优先级要高，且不会被变量声明覆盖，但是会被变量赋值覆盖</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>红皮书111页说道：<strong>解析器在向执行环境中加载数据时会率先读取函数声明，并使其在执行任何代码之前可用(可访问)，即函数声明提升</strong>、JavaScript上卷中第40页提到<strong>函数声明是优于变量提升的</strong>。</p> <p>函数提升是声明并赋值的，而变量提升只是声明，但是函数赋值诗可以被变量赋值覆盖。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>getName<span class="token punctuation">)</span>
<span class="token keyword">var</span> getName <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token comment">//f getName(){console.log(2)}</span>

<span class="token comment">/****************************/</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>getName<span class="token punctuation">)</span> <span class="token comment">//f getName(){console.log(2)}</span>
<span class="token keyword">var</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>getName<span class="token punctuation">)</span> <span class="token comment">//f(){cosole.log(3)}</span>
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>getName<span class="token punctuation">)</span><span class="token comment">//f(){cosole.log(3)}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_2、面试题2"><a href="#_2、面试题2" class="header-anchor">#</a> 2、面试题2</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//面试题2</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>b <span class="token keyword">in</span> window<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">//undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3、面试题"><a href="#_3、面试题" class="header-anchor">#</a> 3、面试题</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token function">c</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//c is not a function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_11-作用域"><a href="#_11-作用域" class="header-anchor">#</a> 11 作用域</h2> <h3 id="_1、理解-2"><a href="#_1、理解-2" class="header-anchor">#</a> 1、理解</h3> <ul><li><p>一块“地盘”，一个代码段所在的区域</p></li> <li><p>它是静态的，相对于上下文对象，在编写代码时候就确定了</p></li></ul> <h3 id="_2、分类"><a href="#_2、分类" class="header-anchor">#</a> 2、分类</h3> <ul><li><p>全局作用域</p></li> <li><p>函数作用域</p></li> <li><p>块作用域（ES6有了，let声明的范围是块作用域）</p> <p>【块作用域就是大括号之间的范围】</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//没有块作用域</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment">//1</span>

<span class="token comment">//有块作用域</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token comment">//b is not defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_3、作用域个数-n-1-m"><a href="#_3、作用域个数-n-1-m" class="header-anchor">#</a> 3、作用域个数：n+1+m</h3> <p>n是函数定义次数，1是一个全局作用域，m是块作用域个数</p> <p><img alt="image-20220304133932122" data-src="https://s2.loli.net/2022/06/23/Uiz7MlsXpBgSOhV.png" loading="lazy" class="lazy"></p> <h3 id="_4、作用"><a href="#_4、作用" class="header-anchor">#</a> 4、作用</h3> <ul><li>隔离变量，不同作用域下同名变量下不会有冲突</li></ul> <h2 id="_12-作用域与执行上下文"><a href="#_12-作用域与执行上下文" class="header-anchor">#</a> 12 作用域与执行上下文</h2> <h3 id="_1、区别1"><a href="#_1、区别1" class="header-anchor">#</a> 1、区别1</h3> <ul><li>全局作用域之外，每个函数都会创建自己的作用域，作用域在函数定义时就已经确定了，而不是在函数调用时</li> <li>全局执行上下文环境是在全局作用域确定之后，js代码马上执行之前创建</li> <li>函数执行上下文是在调用函数时，函数体代码执行之前创建</li></ul> <h3 id="_2、区别2"><a href="#_2、区别2" class="header-anchor">#</a> 2、区别2</h3> <ul><li>作用域是静态的，只要函数定义好了就一直存在，且不会再变化</li> <li>上下文环境是动态的，调用函数时创建，函数调用结束时上下文环境就会自动释放</li></ul> <h3 id="_3、联系"><a href="#_3、联系" class="header-anchor">#</a> 3、联系</h3> <ul><li>上下文环境（对象）是从属于所在的作用域</li> <li>全局上下文环境 =&gt; 全局作用域</li> <li>函数上下文环境 =&gt; 对应的函数使用域</li></ul> <p><img alt="image-20220304143640637" data-src="https://s2.loli.net/2022/06/23/CnXD1Myvte56LdW.png" loading="lazy" class="lazy"></p> <h2 id="_13-作用域链"><a href="#_13-作用域链" class="header-anchor">#</a> 13 作用域链</h2> <h3 id="_1、理解-3"><a href="#_1、理解-3" class="header-anchor">#</a> 1、理解</h3> <ul><li>多个上下级关系的作用域形成的链，它的方向是从下向上的（从内到外）</li> <li>查找变量时就是沿着作用域链来查找的</li></ul> <h3 id="_2、查找一个变量的查找规则"><a href="#_2、查找一个变量的查找规则" class="header-anchor">#</a> 2、查找一个变量的查找规则</h3> <ul><li>在当前作用域下的执行上下文中查找对应的属性，如果有直接返回，否则进入上一级</li> <li>重复执行操作，直到全局作用域，如果还找不到就抛出找不到的异常</li></ul> <p><img alt="image-20220304143734563" data-src="https://s2.loli.net/2022/06/23/Dy4o13IRO2cxwCG.png" loading="lazy" class="lazy"></p> <h2 id="_14-面试题-作用域与作用链"><a href="#_14-面试题-作用域与作用链" class="header-anchor">#</a> 14 面试题（作用域与作用链）</h2> <h3 id="_1、面试题1-2"><a href="#_1、面试题1-2" class="header-anchor">#</a> 1、面试题1</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 	<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">20</span>
 	<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">show</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>  
<span class="token comment">//因为作用域静态，定义就确定了，所有fn()向上一级找x的值是直接找到全局x 10</span>

<span class="token comment">/**************上下对比*************/</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 	<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">20</span>
 	<span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">show</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token comment">//20</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">//10</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_2、面试题2-2"><a href="#_2、面试题2-2" class="header-anchor">#</a> 2、面试题2</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//function(){console.log(fn)}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">fn2</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn2<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//报错，fn2 Is没有用this，默认是window.fn2()，此外，这里的fn2不是变量，是属性，如果想找到需要obj.fn2</span>


<span class="token comment">/***********上下对比*****************/</span>
<span class="token comment">//如果想让上面的obj.fn2()找到，需要改为</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">fn2</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="_15-闭包"><a href="#_15-闭包" class="header-anchor">#</a> 15 闭包</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> length <span class="token operator">=</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> btn <span class="token operator">=</span> btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
	<span class="token comment">//将btn所对应的下标保存在btn上</span>
	btn<span class="token punctuation">.</span>index <span class="token operator">=</span> i
	btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'第'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> ‘个’<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**********上下对比****************/</span>
<span class="token comment">//利用闭包</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> length <span class="token operator">=</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> btn <span class="token operator">=</span> btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
		<span class="token comment">//将btn所对应的下标保存在btn上</span>
		btn<span class="token punctuation">.</span>index <span class="token operator">=</span> i
		btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'第'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> ‘个’<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_1、如何产生闭包"><a href="#_1、如何产生闭包" class="header-anchor">#</a> 1、如何产生闭包？</h3> <ul><li>当一个嵌套的内部（子）函数引用了嵌套的外部（父）函数的变量（函数）时，就产生了闭包</li></ul> <h3 id="_2、闭包到底是什么"><a href="#_2、闭包到底是什么" class="header-anchor">#</a> 2、闭包到底是什么？</h3> <p>闭包不是任何代码，闭包是函数运行的机制</p> <p>函数执行的过程中，会形成一个全新的私有上下文</p> <p>1、保护：保护自己的私有变量不受外界干扰（操作自己的私有变量和外界没有关系）</p> <p>2、保存：如果当前上下文不被释放[只要让上下文中的某个东西被外部占用即可]，则存储的这些私有变量也不会被释放，可以供其下级上下文中调取使用，相当于把一些值保存起来了</p> <p>我们把函数执行所带来的两大作用（两大机制），称之为闭包</p> <ul><li>使用Chrome调试查看</li> <li>理解一：闭包是嵌套的内部函数（绝大部分人）</li> <li>理解二：包含被引用变量（函数）的对象（极少数人）</li> <li>注意：闭包存在于嵌套的内部函数中</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//执行函数定义就会产生闭包（不用调用内部函数）</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**********上下对比**********/</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token keyword">var</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//这个不是闭包，因为fn2是变量提升，而非函数提升，所以这里的fn2是undefined</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_3、产生闭包的条件"><a href="#_3、产生闭包的条件" class="header-anchor">#</a> 3、产生闭包的条件？</h3> <ul><li><p>函数嵌套</p></li> <li><p>内部函数引用了外部函数的数据（变量/函数）</p></li> <li><p>闭包产生不一定要内部函数执行，但闭包产生一定是执行了外部函数</p></li></ul> <h2 id="_16-常见的闭包"><a href="#_16-常见的闭包" class="header-anchor">#</a> 16 常见的闭包</h2> <h3 id="_1、将函数作为另一个函数的返回值"><a href="#_1、将函数作为另一个函数的返回值" class="header-anchor">#</a> 1、将函数作为另一个函数的返回值</h3> <h3 id="_2、将函数作为实参传递给另一个函数调用"><a href="#_2、将函数作为实参传递给另一个函数调用" class="header-anchor">#</a> 2、将函数作为实参传递给另一个函数调用</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        a<span class="token operator">++</span>
        <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">3</span>
        b<span class="token operator">++</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;a = &quot;</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">&quot;、b = &quot;</span> <span class="token operator">+</span> b<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> fn2
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span><span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//a = 3、b = 4</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//a = 4、b = 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn1<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">//undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn2<span class="token punctuation">.</span>b<span class="token punctuation">)</span> <span class="token comment">//报错fn2 is not defined</span>

<span class="token comment">/***********上下对比*****************/</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a<span class="token operator">++</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        a<span class="token operator">--</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> fn3
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//1</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//0</span>

<span class="token comment">//闭包里面只有a,没有fn2和fn3</span>
<span class="token comment">//局部变量fn3被释放了，但是fn3所保存的函数对象的地址值返回给了全局变量f了</span>
<span class="token comment">//闭包一直存在没有消失的原因是第31行f导致的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="_3、问题"><a href="#_3、问题" class="header-anchor">#</a> 3、问题：</h3> <h4 id="_1、函数执行完之后-函数内部声明的局部变量是否还存在"><a href="#_1、函数执行完之后-函数内部声明的局部变量是否还存在" class="header-anchor">#</a> 1、函数执行完之后，函数内部声明的局部变量是否还存在？</h4> <p>一般不存在，存在于闭包之中的变量才可能存在</p> <p>所以这里对于上面的例子，是存在的</p> <p>原因是fn1存在于闭包之中，所以fn1内部声明的局部变量a还存在</p> <p>闭包保存了函数需要的局部变量的值，便于函数调用时获取这些值</p> <h4 id="_2、在函数外部能直接访问函数内部的局部变量嘛"><a href="#_2、在函数外部能直接访问函数内部的局部变量嘛" class="header-anchor">#</a> 2、在函数外部能直接访问函数内部的局部变量嘛？</h4> <p>不能，但我们可以通过闭包让外部操作它</p> <p><img alt="image-20220308175431868" data-src="https://s2.loli.net/2022/06/23/LkR8Hx5qos7fA9m.png" loading="lazy" class="lazy"></p> <p><img alt="image-20220308175421288" data-src="https://s2.loli.net/2022/06/23/rJUDye4lWhk7smT.png" loading="lazy" class="lazy"></p> <h3 id="_4、闭包的作用"><a href="#_4、闭包的作用" class="header-anchor">#</a> 4、闭包的作用：</h3> <ul><li>使用函数内部的变量在函数执行完之后，仍然存活在内存中（延长了局部变量的生命周期）</li> <li>让函数外部可以操作（读写到函数内部的数据（变量/函数））</li></ul> <h3 id="_5、闭包的生命周期"><a href="#_5、闭包的生命周期" class="header-anchor">#</a> 5、闭包的生命周期</h3> <ul><li>产生：在嵌套内部函数定义执行完时就产生了（不是在调用）</li> <li>死亡：在嵌套的内部函数成为垃圾对象时</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		a<span class="token operator">++</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//3</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//4，这个时候闭包还存活着</span>
f <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">//闭包死亡，（包含闭包的函数对象成为了垃圾对象）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_6、闭包的应用-自定义js模块"><a href="#_6、闭包的应用-自定义js模块" class="header-anchor">#</a> 6、闭包的应用_自定义JS模块</h3> <ul><li><p>具有特定功能的JS模块</p></li> <li><p>将所有的数据和功能都封装在一个函数内部（私有的）</p></li> <li><p>只向外暴露一个包含n个方法的对象或方法</p></li> <li><p>模块的使用者，只需要通过模块暴露的对象调用方法来实现对应的功能</p></li></ul> <h3 id="_7、闭包的缺点"><a href="#_7、闭包的缺点" class="header-anchor">#</a> 7、闭包的缺点</h3> <p>1、缺点</p> <ul><li>函数执行完后，函数内的局部变量没有释放，占用内存时间会变长</li> <li>容易造成内存泄漏</li></ul> <p>2、解决</p> <ul><li>能不用闭包就不用</li> <li>及时释放</li></ul> <h4 id="内存溢出-程序已经出错了-质变"><a href="#内存溢出-程序已经出错了-质变" class="header-anchor">#</a> 内存溢出（程序已经出错了, 质变）</h4> <ul><li>一种程序运行出现的错误</li> <li>当程序运行需要的内存超过了剩余的内存时，就会抛出内存溢出的错误</li></ul> <h4 id="内存泄漏-程序还能正常运行-还没有出错-量变"><a href="#内存泄漏-程序还能正常运行-还没有出错-量变" class="header-anchor">#</a> 内存泄漏（程序还能正常运行，还没有出错，量变）</h4> <ul><li>占用的内存没有及时释放</li> <li>内存泄漏积累多了就容易导致内存溢出</li> <li>常见的内存泄漏：
<ul><li>意外的全局变量</li> <li>没有及时清理的计时器或回调函数</li> <li>闭包</li></ul></li></ul> <h3 id="_8、面试题"><a href="#_8、面试题" class="header-anchor">#</a> 8、面试题</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//面试题1</span>
<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'the window'</span>
<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;MyObject&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getNameFunc</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span><span class="token function">getNameFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// the window</span>

<span class="token comment">/**********上下对比*************/</span>
<span class="token keyword">var</span> name2 <span class="token operator">=</span> <span class="token string">&quot;the window&quot;</span>
<span class="token keyword">var</span> object2 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name2</span><span class="token operator">:</span> <span class="token string">&quot;My Object&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getNameFunc</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> that<span class="token punctuation">.</span>name2
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span>object2<span class="token punctuation">.</span><span class="token function">getNameFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//My Object</span>

<span class="token comment">//面试题2 终极！！！</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">fun</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">fun</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//undefined, 0 ,0 ,0</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token comment">//undefined, 0, 1, 2</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//underfined, 0, 1, 1</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="_17-纯函数"><a href="#_17-纯函数" class="header-anchor">#</a> 17 纯函数</h2> <p>一类特别的函数，只要是同样的输入（实参），必定会得到同样的输出（返回）</p> <p>必须遵守以下一些约束</p> <p>​	1、不得改写参数数据</p> <p>​	2、不会产生任何副作用，例如网络请求、输入和输出设备</p> <p>​	3、不能调用Date.now()或Math.random()等不纯的方法</p> <p>​	redux的render函数必须是一个纯函数</p> <h3 id="纯函数好处"><a href="#纯函数好处" class="header-anchor">#</a> 纯函数好处</h3> <blockquote><p>1、可缓存</p> <p>自己模拟一个memoize函数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 记忆函数（封装实现）</span>

<span class="token comment">// 获取圆的面积</span>
<span class="token keyword">function</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;getArea调用啦！&quot;</span><span class="token punctuation">)</span>
   <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> r <span class="token operator">*</span> r
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">memorized</span> <span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token comment">// 缓存的地方</span>
   <span class="token keyword">let</span> cache <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token comment">// 由于arguments是类数组结构，这里给转化为数组</span>
       <span class="token keyword">let</span> key <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
       cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
       <span class="token keyword">return</span> cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//这里调用记忆函数传入相同的参数会不再调用函数，而是直接返回缓存的数值</span>

<span class="token keyword">let</span> getAreaMemory <span class="token operator">=</span> <span class="token function">memorized</span><span class="token punctuation">(</span>getArea<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;(1)&quot;</span><span class="token punctuation">,</span> <span class="token function">getAreaMemory</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;(2)&quot;</span><span class="token punctuation">,</span> <span class="token function">getAreaMemory</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;(3)&quot;</span><span class="token punctuation">,</span> <span class="token function">getAreaMemory</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>2、可测试</p> <p>3、并行处理</p> <p>纯函数不需要访问共享的内存数据，所以在并行环境下可以任意运行纯函数</p></blockquote> <h3 id="_18-柯里化-currying"><a href="#_18-柯里化-currying" class="header-anchor">#</a> 18 柯里化（Currying）</h3> <blockquote><p>当一个函数有多个参数的时候先传递一部分参数调用它（这部分参数以后永远不变）</p> <p>然后返回一个新的函数接收剩余的参数，返回结果</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 函数的柯里化</span>
<span class="token keyword">function</span> <span class="token function">checkAge</span> <span class="token punctuation">(</span><span class="token parameter">min</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> age <span class="token operator">&gt;=</span> min
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//ES6写法</span>
<span class="token keyword">let</span> <span class="token function-variable function">checkAge</span> <span class="token operator">=</span> <span class="token parameter">min</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">age</span> <span class="token operator">=&gt;</span> age <span class="token operator">&gt;=</span> min <span class="token punctuation">)</span>
<span class="token keyword">let</span> checkAge18 <span class="token operator">=</span> <span class="token function">checkAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checkAge18</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="lodash中的纯函数"><a href="#lodash中的纯函数" class="header-anchor">#</a> lodash中的纯函数</h4> <div class="language-) line-numbers-mode"><pre class="language-text"><code>//lodash中的curry基本使用
const _ = require(&quot;lodash&quot;)

function getSum(a, b, c){
	return a + b + c
} 

const curried = _.curry(getSum)

console.log(curried(1,2,3))
console.log(curried(1)(2,3))
console.log(curried(1,2)(3))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="柯里化函数封装"><a href="#柯里化函数封装" class="header-anchor">#</a> 柯里化函数封装</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 柯里化原理（封装）</span>
<span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">curriedFn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 分情况判断,</span>
        <span class="token comment">// 1、如果传入的形参个数少于函数所需的参数个数</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> func<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//这里有已经产生了闭包，arg是缓存的变量</span>
                <span class="token comment">// 将arguments中的参数值同后续的参数合并</span>
                <span class="token comment">// concat是合并数组</span>
                <span class="token comment">// Array.from()可以将一个类数组对象或者可遍历对象转换成一个真正的数组</span>
                <span class="token keyword">return</span> <span class="token function">curriedFn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 2、当实际传入的形参个数大于等于所需参数个数</span>
        <span class="token keyword">return</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><h3 id="柯里化总结"><a href="#柯里化总结" class="header-anchor">#</a> 柯里化总结：</h3> <ul><li>柯里化可以让我们给一个函数传递较少的参数得到一个已经记住了某些固定参数的新参数</li> <li>这是一种对函数参数的‘缓存’</li> <li>让函数变的更灵活，让函数的粒度更小</li> <li>可以把多元函数转换为一元函数，可以组合使用函数产生强大的功能</li></ul></blockquote> <h2 id="_18函数组合"><a href="#_18函数组合" class="header-anchor">#</a> 18函数组合</h2> <blockquote><p>纯函数和柯里化很容易写出洋葱代码 h(g(f(x)))</p> <ul><li>获取数组的最后一个元素再转换成大写字母   _.toUpper(_.first(_.reverse(array)))</li> <li>函数组合可以让我们把细粒度的函数重新组合生成一个新的函数</li></ul></blockquote> <p><img alt="image-20220602215841359" data-src="https://s2.loli.net/2022/06/23/Z5wXYmvE169LKlr.png" loading="lazy" class="lazy"></p> <blockquote><p>函数组合（compose）:如果一个函数要经过多个函数处理才能得到最终值，这个时候可以把中间过程的函数合并成一个函数</p> <p>函数就像数据的管道，函数组合就是把这些管道连接起来，让数据穿过多个管道形成最终结果</p> <p><strong>函数组合默认是从右到左执行</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 函数组合</span>
<span class="token keyword">function</span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> g</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token function">g</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数一： 返回数组的反转数组</span>
<span class="token keyword">function</span> <span class="token function">reverse</span> <span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> array<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数二：返回数组的第一个元素</span>
<span class="token keyword">function</span> <span class="token function">first</span> <span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 这里函数组合会从右向左执行，也就是先执行reverse，再执行first</span>
<span class="token comment">// 所以之类functionCompose会返回array数组的反转数组的第一个元素</span>
<span class="token keyword">let</span> functionCompose <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> reverse<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">functionCompose</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></blockquote> <h4 id="lodash中的组合函数"><a href="#lodash中的组合函数" class="header-anchor">#</a> lodash中的组合函数</h4> <blockquote><p>lodash中的组合函数flow() 或者flowRight() , 他们都可以组合多个函数</p> <p>flow() 是从左到右运行</p> <p>flowRight()是从右到左运行，使用的更多一些</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> _ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// lodash中的组合函数</span>
<span class="token keyword">const</span> <span class="token function-variable function">reverse</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">first</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">toUpper</span> <span class="token operator">=</span> <span class="token parameter">s</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 封装lodash中的flowRight</span>
<span class="token keyword">function</span> <span class="token function">flowRight</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">initialValue</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token comment">// reduce(function(previousValue, currentValue, currentIndex, array) { /* ... */ }, initialValue)</span>
       <span class="token comment">// 这里的fn即args数组中每一个元素，每一个元素都是函数组合中的函数</span>
       <span class="token keyword">return</span> args<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>previousValue<span class="token punctuation">)</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span> initialValue<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ES6写法封装flowRight</span>
<span class="token comment">// const flowRight = (...args) =&gt; value =&gt; args.reverse().reduce((previousValue, fn) =&gt; fn(previousValue), value)</span>

<span class="token keyword">const</span> f <span class="token operator">=</span> <span class="token function">flowRight</span><span class="token punctuation">(</span>toUpper<span class="token punctuation">,</span>first<span class="token punctuation">,</span>reverse<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></blockquote> <h2 id="_19-高阶函数"><a href="#_19-高阶函数" class="header-anchor">#</a> 19 高阶函数</h2> <blockquote><p>使用高阶函数的意义：</p> <ul><li>抽象可以帮我们屏蔽细节，只需要关注与我们的目标</li> <li>高阶函数是用来抽象通用的问题</li></ul></blockquote> <blockquote><p>常用的高阶函数</p> <p>map、every、some</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// map() 方法创建一个新数组，这个新数组由原数组中的每个元素都调用一次提供的函数后的返回值组成。</span>
<span class="token comment">// 封装map方法</span>
<span class="token keyword">function</span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">let</span> results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> array<span class="token punctuation">)</span><span class="token punctuation">{</span>
       results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> results
<span class="token punctuation">}</span>

<span class="token comment">// 模拟出一个平方数</span>
<span class="token keyword">let</span> arrA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

arrB <span class="token operator">=</span> <span class="token function">map</span><span class="token punctuation">(</span>arrA<span class="token punctuation">,</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">*</span> item<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrB<span class="token punctuation">)</span>



<span class="token comment">// every() 方法测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔值</span>
<span class="token comment">// 封裝every方法</span>
<span class="token keyword">function</span> <span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token boolean">true</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> array<span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">)</span> <span class="token keyword">break</span>
       result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">isBelowThreshold</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">currentValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> currentValue <span class="token operator">&lt;</span> <span class="token number">40</span>
<span class="token keyword">const</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">every</span><span class="token punctuation">(</span>array1<span class="token punctuation">,</span> isBelowThreshold<span class="token punctuation">)</span><span class="token punctuation">)</span>



<span class="token comment">// some() 方法测试数组中是不是至少有 1 个元素通过了被提供的函数测试。它返回的是一个 Boolean 类型的值。</span>
<span class="token comment">// 封裝some方法</span>
<span class="token keyword">function</span> <span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token boolean">false</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> array<span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">break</span>
       result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token comment">// checks whether an element is even</span>
<span class="token keyword">const</span> <span class="token function-variable function">even</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> element <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> array2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">some</span><span class="token punctuation">(</span>array2<span class="token punctuation">,</span> even<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div></blockquote> <h2 id="_20-function"><a href="#_20-function" class="header-anchor">#</a> 20 !function(){}()</h2> <p>!function(){} 这种写法，是一种立即执行函数的写法。即IIFE等<a href="https://so.csdn.net/so/search?q=%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">设计模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。这种函数在函数定义的地方就直接执行了。</p> <p>理解IIFE设计模式的关键是要认识到，在ES6之前，JavaScript仅具有函数作用域（因此缺少块作用域），并通过闭包内部的引用传递值。ES6之后情况已不再如此，因为JavaScript的ES6版本使用let和const关键字实现了块作用域。</p> <p>(function(){})()是匿名函数，主要利用函数内的变量作用域，避免产生全局变量，影响整体页面环境，增加代码的兼容性。</p> <p>(function(){})是一个标准的函数定义，但是没有赋值给任何变量。所以是没有名字的函数，叫匿名函数。没有名字就无法像普通函数那样随时随地调用了，所以在他定义完成后就马上调用他，后面的括号()是运行这个函数的意思。</p> <p>如下几种写法作用是相同的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">!</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">~</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">-</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">/*...*/</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">/*...*/</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>!function(){}()写法和(function(){})()是相同的</p> <p>!function(){}()</p> <p>①函数后的();表示要执行这个函数；</p> <p>②而();要求前面必须是一个表达式。（最后有js表达式的定义）。</p> <p>③所以“!”的作用是将function(){}函数体转为一个函数表达式。</p> <h2 id="_21-with语句"><a href="#_21-with语句" class="header-anchor">#</a> 21 with语句</h2> <p>with语句被用于在访问一个对象的属性或方法时避免重复使用指定对象引用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">with</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
	statements<span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>object指定在statements块中没有引用的情况下使用哪个对象引用。
在一个连续的程序代码中，如果多次使用某个对象的多个属性或方法，那么只要在with关键字后的括号（）中写出该对象的名称，就可以在随后的大括号{}中的程序语句中直接引用该对象的属性名或方法名，不必再在每个属性名或方法名前都加上对象实例名和“.”。</p> <h2 id="_22-eval-函数"><a href="#_22-eval-函数" class="header-anchor">#</a> 22 eval 函数</h2> <blockquote><p>eval() 函数作用：可以接受一个<a href="https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">字符串<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>str作为参数，并把这个参数作为脚本代码来执行。
（如果执行结果是一个值就返回，不是就返回undefined，如果参数不是一个字符串，则直接返回该参数）</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">eval</span><span class="token punctuation">(</span>“<span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">1</span>”<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//声明一个变量a并赋值1。</span>

<span class="token function">eval</span><span class="token punctuation">(</span>“<span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span>”<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//执行加运算，并返回运算值。</span>

<span class="token function">eval</span><span class="token punctuation">(</span><span class="token function">“mytest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>”<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//执行mytest()函数。</span>

<span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;{b:2}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//声明一个对象。如果想返回此对象，则需要在对象外面再嵌套一层小括如下：eval(&quot;({b:2})&quot;);</span>

注意：使用eval来解析<span class="token constant">JSON</span>格式字符串的时候，会将<span class="token punctuation">{</span><span class="token punctuation">}</span>解析为代码块，而不是对象的字面量
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><h4 id="函数作用域"><a href="#函数作用域" class="header-anchor">#</a> 函数作用域：</h4> <p>eval()函数并不会创建一个新的作用域，并且它的作用域就是它所在的作用域，有时候需要将eval()函数的作用域设置为全局，当然可以将eval()在全局作用域中使用，这个时候可以用window.eval()的方式实现。</p></blockquote> <blockquote><h4 id="function和eval有什么区别"><a href="#function和eval有什么区别" class="header-anchor">#</a> Function和eval有什么区别？</h4> <p>共同点：都可以讲字符串转化为js代码
不同点：Function创建出来的函数，并不会直接调用，只有当手动去调用创建出来的函数的时候才，eval把字符串转化为代码后，直接就执行了。</p></blockquote> <h1 id="三、面向对象高级"><a href="#三、面向对象高级" class="header-anchor">#</a> 三、面向对象高级</h1> <h2 id="_01-对象创建模式"><a href="#_01-对象创建模式" class="header-anchor">#</a> 01 对象创建模式</h2> <p>方式一：Object构造函数模式</p> <ul><li>套路：先创建空Object对象，再动态添加属性/方法</li> <li>适用场景：起始时不确定对象内部数据</li> <li>问题：语句太多</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>var p = new Object()
p.name = 'Tom'
p.age = 12
p.setName = function(name){
this.name = name
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>方式二：对象字面量模式</p> <ul><li>套路：使用{ }创建对象，同时指定属性/方法</li> <li>适用场景：起始时对象内部数据是确定的</li> <li>问题：如果创建多个对象，有重复代码</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Tom'</span>m
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token function-variable function">setName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>方式三：工厂模式</p> <ul><li>通过工厂函数动态创建对象并返回</li> <li>适用场景：需要创建多个对象</li> <li>问题：对象没有一个具体的类型，都是Object类型</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">name</span><span class="token operator">:</span>name<span class="token punctuation">,</span>
		<span class="token literal-property property">age</span><span class="token operator">:</span>age<span class="token punctuation">,</span>
		<span class="token function-variable function">setName</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> obj
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>方式四：自定义构造函数模式</p> <ul><li>套路：自定义构造函数，通过new创建对象</li> <li>适用场景：需要创建多个类型确定的对象</li> <li>问题：每个对象都有相同的数据，浪费内存</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Tom'</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>方法五：构造函数 + 原型的组合模式</p> <ul><li>自定义构造函数，属性在函数中初始化，方法添加到原型上</li> <li>适用场景：需要创建多个类型确定的对象</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">//在构造函数中只初始化一般函数</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>

<span class="token comment">//将相关方法添加到原型上</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_02-继承模式"><a href="#_02-继承模式" class="header-anchor">#</a> 02 继承模式</h2> <h3 id="方式一-原型链继承"><a href="#方式一-原型链继承" class="header-anchor">#</a> 方式一：原型链继承</h3> <ul><li>步骤</li></ul> <ol><li>定义父类型构造函数</li> <li>给父类型的原型添加方法</li> <li>定义子类型的构造函数</li> <li>创建父类型的对象赋值给子类型的原型</li> <li>将子类型原型的构造属性设置为子类型</li> <li>给子类型原型添加方法</li> <li>创建子类型的对象：可以调用父类型的方法</li></ol> <ul><li>关键</li></ul> <ol><li>子类型的原型为父类型的一个实例对象</li></ol> <p><img alt="image-20220322231650338" data-src="https://s2.loli.net/2022/06/23/nkQhfCpY1E42q5D.png" loading="lazy" class="lazy"></p> <h3 id="方式二-借用构造函数继承-假的"><a href="#方式二-借用构造函数继承-假的" class="header-anchor">#</a> 方式二：借用构造函数继承（假的）</h3> <ul><li>步骤</li></ul> <ol><li>定义父类型构造函数</li> <li>定义子类型构造函数</li> <li>在子类型构造函数中调用父类型构造</li></ol> <ul><li>关键</li></ul> <ol><li>在子类型构造函数中调用super()调用父类型构造函数</li></ol> <p><img alt="image-20220322233059420" data-src="https://s2.loli.net/2022/06/23/HUEeWGj4M89ADSc.png" loading="lazy" class="lazy"></p> <h3 id="方式三-原型链-借用构造函数的组合继承"><a href="#方式三-原型链-借用构造函数的组合继承" class="header-anchor">#</a> 方式三：原型链 + 借用构造函数的组合继承</h3> <ol><li>利用原型链实现对父类型对象的方法继承</li> <li>利用super()借用父类型构建函数初始化相同属性</li></ol> <p><img alt="image-20220323101740129" data-src="https://s2.loli.net/2022/06/23/PQtc7J8D69V3Xjk.png" loading="lazy" class="lazy"></p> <h1 id="四、线程机制与事件机制"><a href="#四、线程机制与事件机制" class="header-anchor">#</a> 四、线程机制与事件机制</h1> <h2 id="_01-进程与线程"><a href="#_01-进程与线程" class="header-anchor">#</a> 01 进程与线程</h2> <h3 id="_1、进程-process"><a href="#_1、进程-process" class="header-anchor">#</a> 1、进程（process）</h3> <p>程序一次执行，占有独有的内存一块空间</p> <p>可以通过windows任务管理器查看进程</p> <h3 id="_2、-线程-thread"><a href="#_2、-线程-thread" class="header-anchor">#</a> 2、 线程 (thread)</h3> <p>进程内的一个独立执行单元</p> <p>程序执行的一个完整流程</p> <p>CPU的最小调度单元</p> <h3 id="_3、相关知识"><a href="#_3、相关知识" class="header-anchor">#</a> 3、相关知识</h3> <ul><li>应用程序必须运行在某个进程的某个线程上</li> <li>一个进程中至少有一个运行的线程：主线程，进程启动后自动创建</li> <li>一个进程中可以同时运行多个线程，我们会说程序是多线程运行的</li> <li>一个进程内的数据可以供其中的多个线程共享</li> <li>多个进程之间的数据是不能直接共享的</li> <li>线程池（thread pool）保存多个线程对象的容器，实现线程对象的反复利用（复用）</li></ul> <h3 id="_4、相关问题"><a href="#_4、相关问题" class="header-anchor">#</a> 4、相关问题</h3> <h4 id="_0、为什么js要设计成单线程"><a href="#_0、为什么js要设计成单线程" class="header-anchor">#</a> 0、为什么js要设计成单线程？</h4> <p>这主要和js的用途有关，js是作为浏览器的脚本语言，主要是实现用户与浏览器的交互，以及操作dom；这决定了它只能是单线程，否则会带来很复杂的同步问题。 举个例子：如果js被设计了多线程，如果有一个线程要修改一个dom元素，另一个线程要删除这个dom元素，此时浏览器就会一脸茫然，不知所措。所以，为了避免复杂性，从一诞生，JavaScript就是单线程，这已经成了这门语言的核心特征，将来也不会改变</p> <p>为了利用多核CPU的计算能力，HTML5提出Web Worker标准，允许JavaScript脚本创建多个线程，但是子线程完全受主线程控制，且不得操作DOM。所以，这个新标准并没有改变JavaScript单线程的本质。</p> <h4 id="_1、何为多进程与多线程"><a href="#_1、何为多进程与多线程" class="header-anchor">#</a> 1、何为多进程与多线程？</h4> <p>多进程运行：一个应用程序可以同时启动多个实例运行</p> <p>多线程：在一个进程内，同时有多个线程运行</p> <h4 id="_2、比较单线程与多线程"><a href="#_2、比较单线程与多线程" class="header-anchor">#</a> 2、比较单线程与多线程？</h4> <p>多线程：</p> <ul><li>优点
<ul><li>能有效提升CPU的利用率</li></ul></li> <li>缺点
<ul><li>创建多线程开销</li> <li>线程键切换开销</li> <li>死锁与状态同步问题</li></ul></li></ul> <p>单线程：</p> <ul><li>优点：顺序编程简单易懂</li> <li>缺点: 效率低</li></ul> <h4 id="_3、js是单线程还是多线程运行"><a href="#_3、js是单线程还是多线程运行" class="header-anchor">#</a> 3、js是单线程还是多线程运行？</h4> <ul><li>js是单线程运行的</li> <li>但是用H5中的web worker 可以多线程运行</li></ul> <h4 id="_4、浏览器运行时单线程还是多线程"><a href="#_4、浏览器运行时单线程还是多线程" class="header-anchor">#</a> 4、浏览器运行时单线程还是多线程？</h4> <p>都是多线程运行的</p> <h4 id="_5、浏览器运行是单进程还是多进程"><a href="#_5、浏览器运行是单进程还是多进程" class="header-anchor">#</a> 5、浏览器运行是单进程还是多进程？</h4> <p>有的是单进程：firefox 、老板IE</p> <p>有的是多进程：chrome、新版IE</p> <p>浏览器每个进程有多个线程，主要有以下线程</p> <p>1）GUI 渲染线程:</p> <p>负责渲染页面，解析 html，css 构成 DOM 树等，当页面重绘或者由于某种操作引起回流都会调起该线程。
和 js 引擎线程是互斥的，当 js 引擎线程在工作的时候，GUI 渲染线程会被挂起，GUI 更新被放入在 js 任务队列中，等待 js 引擎线程空闲的时候继续执行。</p> <p>2）js 引擎线程:</p> <p>单线程工作，负责解析运行 JavaScript 脚本。
和 GUI 渲染线程互斥，js 运行耗时过长就会导致页面阻塞。</p> <p>3）事件触发线程:</p> <p>当事件符合触发条件被触发时，该线程会把对应的事件回调函数添加到任务队列的队尾，等待 js 引擎处理。</p> <p>4）定时器触发线程:</p> <p>浏览器定时计数器并不是由 js 引擎计数的，阻塞会导致计时不准确。
开启定时器触发线程来计时并触发计时，计时完成后会被添加到任务队列中，等待 js 引擎处理。</p> <h2 id="_02-浏览器内核"><a href="#_02-浏览器内核" class="header-anchor">#</a> 02 浏览器内核</h2> <ul><li><p>支撑浏览器运行的最核心的程序</p></li> <li><p>不同浏览器内核可能不一样</p> <ul><li><p>Chrome（webkit的分支内核Blink），Safari: webkit</p></li> <li><p>firefox: Gecko</p></li> <li><p>IE:Trident</p></li> <li><p>360,搜狗等国内浏览器：Trident + webkit</p></li></ul></li> <li><p>内核有很多模块组成：</p> <ul><li>js引擎模块：负责js程序的编译与运行</li> <li>html、css文档解析模块：负责页面文本的解析</li> <li>DOM/CSS模块：负责DOM/CSS在内存中的相关处理</li> <li>布局和渲染模块：负责页面的布局和效果的绘制（内存中的对象）</li> <li>。。。。</li> <li>以下是分线程</li> <li>定时器模块：负责定时器的管理</li> <li>事件响应模块：负责事件的管理</li> <li>网络请求模块：负责ajax请求</li></ul></li></ul> <h2 id="_03-定时器引发的思考"><a href="#_03-定时器引发的思考" class="header-anchor">#</a> 03 定时器引发的思考</h2> <h3 id="_1、定时器真的是定时执行的嘛"><a href="#_1、定时器真的是定时执行的嘛" class="header-anchor">#</a> 1、定时器真的是定时执行的嘛？</h3> <p>定时器并不能保证真正定时执行</p> <p>一般会延迟一丁点（可以接受），也有可能延迟很长时间（不能接受）</p> <h3 id="_2、定时器回调函数是在分线程执行的嘛"><a href="#_2、定时器回调函数是在分线程执行的嘛" class="header-anchor">#</a> 2、定时器回调函数是在分线程执行的嘛？</h3> <p>在主线程执行的，js是单线程的</p> <h2 id="_04-js是单线程的"><a href="#_04-js是单线程的" class="header-anchor">#</a> 04 JS是单线程的</h2> <h3 id="_1、如何证明js执行是单线程的"><a href="#_1、如何证明js执行是单线程的" class="header-anchor">#</a> 1、如何证明js执行是单线程的？</h3> <ul><li>setTimeout()的回调函数是在主线程执行的</li> <li>定时器回调函数只有在运行栈中的代码全部执行完毕之后才有可能执行</li></ul> <h3 id="_2、为什么js要用单线程模式-而不用多线程"><a href="#_2、为什么js要用单线程模式-而不用多线程" class="header-anchor">#</a> 2、为什么js要用单线程模式，而不用多线程？</h3> <ul><li>js的单线程和它的用途有关</li> <li>作为浏览器脚本语言，js的主要用途是与用户互动，以及操作DOM</li> <li>这决定了它只能是单线程，否则会带来很复杂的同步问题</li></ul> <h3 id="_3、代码的分类"><a href="#_3、代码的分类" class="header-anchor">#</a> 3、代码的分类：</h3> <ul><li>初始化代码</li> <li>回调代码 （异步执行）</li></ul> <h3 id="_4、js引擎执行代码的基本流程"><a href="#_4、js引擎执行代码的基本流程" class="header-anchor">#</a> 4、js引擎执行代码的基本流程</h3> <ul><li><p>先执行初始化代码：包含一些特别的代码</p> <ul><li>设置定时器</li> <li>绑定事件监听</li> <li>发送ajax请求</li></ul></li> <li><p>后面在某个时刻才会执行回调代码</p></li></ul> <h2 id="_05-事件循环模型"><a href="#_05-事件循环模型" class="header-anchor">#</a> 05 事件循环模型</h2> <p><img alt="image-20220323130215072" data-src="https://s2.loli.net/2022/06/23/Z2V9FgyACmuMz53.png" loading="lazy" class="lazy"></p> <p><img alt="image-20220323131807670" data-src="https://s2.loli.net/2022/06/23/c1FYLiGqUEvkp5l.png" loading="lazy" class="lazy"></p> <h4 id="单线程执行数据-多线程处理事件"><a href="#单线程执行数据-多线程处理事件" class="header-anchor">#</a> 单线程执行数据，多线程处理事件</h4> <p>JS中用来存储待执行回调函数的队列包含2个不同特定的列队
宏列队:用来保存待执行的宏任务(回调),比如:定时器回调/DOM事件回调/ajax回调<br>
微列队:用来保存待执行的微任务(回调),比如:promise的回调/MutationObserver的回调
JS执行时会区别这2个队列
JS引擎首先必须先执行所有的初始化同步任务代码
每次准备取出第一个宏任务执行前,都要将所有的微任务一个一个取出来执行。当该宏任务执行完成，会检查其中的微任务队列，如果为空则直接执行下一个宏任务，如果不为空，则依次执行微任务，执行完成才去执行下一个宏任务。
引入微任务的初衷是为了解决异步回调的问题</p> <h4 id="macrotask-宏任务"><a href="#macrotask-宏任务" class="header-anchor">#</a> macrotask（宏任务）</h4> <p>在浏览器端，其可以理解为该任务执行完后，在下一个macrotask执行开始前，浏览器可以进行页面渲染。触发macrotask任务的操作包括：dom事件回调，ajax回调，定时器回调
script(整体代码)
setTimeout、setInterval、setImmediate
I/O、UI交互事件
postMessage、MessageChannel</p> <h4 id="microtask-微任务"><a href="#microtask-微任务" class="header-anchor">#</a> microtask（微任务）</h4> <p>可以理解为在macrotask任务执行后，页面渲染前立即执行的任务。触发microtask任务的操作包括：
Promise回调：Promise.then
Mutation回调：MutationObserver
process.nextTick(Node环境)</p> <h4 id="event-loop"><a href="#event-loop" class="header-anchor">#</a> event loop</h4> <p><img alt="image-20220323133418951" data-src="https://s2.loli.net/2022/06/23/82QKrZ6o5hcRSbX.png" loading="lazy" class="lazy"></p> <p><img alt="image-20220323133633643" data-src="https://s2.loli.net/2022/06/23/L3EuVTRBHOCoI7x.png" loading="lazy" class="lazy"></p> <h2 id="_06-相关重要概念"><a href="#_06-相关重要概念" class="header-anchor">#</a> 06 相关重要概念</h2> <h3 id="_1、执行栈"><a href="#_1、执行栈" class="header-anchor">#</a> 1、执行栈</h3> <p>execution stack</p> <p>所有代码都是在此空间中执行的</p> <h3 id="_2、浏览器内核"><a href="#_2、浏览器内核" class="header-anchor">#</a> 2、浏览器内核</h3> <ul><li>browser core</li> <li>js引擎模块（在主线程处理）</li> <li>其他模块（在主/分线程处理）</li> <li>运行原理图</li></ul> <h3 id="_3、任务队列-task-queue"><a href="#_3、任务队列-task-queue" class="header-anchor">#</a> 3、任务队列 task queue</h3> <h3 id="_4、消息队列-message-queue"><a href="#_4、消息队列-message-queue" class="header-anchor">#</a> 4、消息队列 message queue</h3> <h3 id="_5、事件队列-event-queue"><a href="#_5、事件队列-event-queue" class="header-anchor">#</a> 5、事件队列 event queue</h3> <h3 id="_6、事件轮询-event-loop"><a href="#_6、事件轮询-event-loop" class="header-anchor">#</a> 6、事件轮询 event loop</h3> <p>从任务队列中循环取出回调函数放入执行栈中处理（一个接一个）</p> <h3 id="_7、事件驱动模型-event-driven-interaction-model"><a href="#_7、事件驱动模型-event-driven-interaction-model" class="header-anchor">#</a> 7、事件驱动模型 event-driven interaction model</h3> <h3 id="_8、请求响应模型-request-response-model"><a href="#_8、请求响应模型-request-response-model" class="header-anchor">#</a> 8、请求响应模型 request-response model</h3> <h2 id="_07-h5-web-workers"><a href="#_07-h5-web-workers" class="header-anchor">#</a> 07 H5 Web Workers</h2> <ol><li><p>H5规范提供了js分线程的实现，取名为：Web Workers，</p> <p>我们可以将一些大计算量的代码交由web worker运行而不冻结用户界面，但是子线程完全受主线程控制，且不得操作DOM，所以这个新标准并没有改变JavaScript单线程的本质</p></li> <li><p>相关API</p> <ul><li>Worker: 构造函数，加载分线程执行的js文件</li> <li>Worker.prototype.onmessage: 用于接收另一个线程的回调函数</li> <li>Worker.prototype.postMessage: 象另一个线程发送消息</li></ul></li> <li><p>不足</p> <ul><li><p>慢</p> <p>Worker内代码不能操作DOM（更新UI）</p></li> <li><p>不能跨域加载JS</p></li> <li><p>不是每个浏览器都支持这个特性</p></li></ul> <p><img alt="image-20220323164631070" data-src="https://s2.loli.net/2022/06/23/r3ClAtYmGdsy5jI.png" loading="lazy" class="lazy"></p></li></ol></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/23/2022, 12:41:23 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-8020d99a><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_01-js基础总结" class="sidebar-link reco-side-_01-js基础总结" data-v-8020d99a>01 JS基础总结</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1-基本类型" class="sidebar-link reco-side-_1-基本类型" data-v-8020d99a>1）基本类型:</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2-对象-引用-类型" class="sidebar-link reco-side-_2-对象-引用-类型" data-v-8020d99a>2）对象（引用）类型</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#判断" class="sidebar-link reco-side-判断" data-v-8020d99a>判断</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#重点问题" class="sidebar-link reco-side-重点问题" data-v-8020d99a>重点问题：</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_02-数据-变量-内存" class="sidebar-link reco-side-_02-数据-变量-内存" data-v-8020d99a>02 数据_变量_内存</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#重点问题-2" class="sidebar-link reco-side-重点问题-2" data-v-8020d99a>重点问题：</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_03-对象" class="sidebar-link reco-side-_03-对象" data-v-8020d99a>03 对象</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#重点问题-3" class="sidebar-link reco-side-重点问题-3" data-v-8020d99a>重点问题：</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_04-函数" class="sidebar-link reco-side-_04-函数" data-v-8020d99a>04 函数</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#重点问题-4" class="sidebar-link reco-side-重点问题-4" data-v-8020d99a>重点问题：</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_05-回调函数" class="sidebar-link reco-side-_05-回调函数" data-v-8020d99a>05 回调函数</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#重点问题-5" class="sidebar-link reco-side-重点问题-5" data-v-8020d99a>重点问题：</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_06-iife" class="sidebar-link reco-side-_06-iife" data-v-8020d99a>06 IIFE</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、理解" class="sidebar-link reco-side-_1、理解" data-v-8020d99a>1、理解</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、作用" class="sidebar-link reco-side-_2、作用" data-v-8020d99a>2、作用</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_07-函数的中的this" class="sidebar-link reco-side-_07-函数的中的this" data-v-8020d99a>07 函数的中的this</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、this是什么" class="sidebar-link reco-side-_1、this是什么" data-v-8020d99a>1、this是什么?</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、如何确定this的值" class="sidebar-link reco-side-_2、如何确定this的值" data-v-8020d99a>2、如何确定this的值？</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_08-js分号中的问题" class="sidebar-link reco-side-_08-js分号中的问题" data-v-8020d99a>08 JS分号中的问题</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_01-原型和原型链" class="sidebar-link reco-side-_01-原型和原型链" data-v-8020d99a>01 原型和原型链</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、函数的prototype属性" class="sidebar-link reco-side-_1、函数的prototype属性" data-v-8020d99a>1、函数的prototype属性</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、给原型对象" class="sidebar-link reco-side-_2、给原型对象" data-v-8020d99a>2、给原型对象</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_02-显示原型和隐式原型" class="sidebar-link reco-side-_02-显示原型和隐式原型" data-v-8020d99a>02 显示原型和隐式原型</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、每个函数function都有一个prototype-即显式原型-属性" class="sidebar-link reco-side-_1、每个函数function都有一个prototype-即显式原型-属性" data-v-8020d99a>1、每个函数function都有一个prototype, 即显式原型（属性）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、每个实例对象都有个-proto-可称为隐式原型-属性" class="sidebar-link reco-side-_2、每个实例对象都有个-proto-可称为隐式原型-属性" data-v-8020d99a>2、每个实例对象都有个__proto__,可称为隐式原型（属性）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、对象的隐式原型的值为其对应构造函数的显式原型的值" class="sidebar-link reco-side-_3、对象的隐式原型的值为其对应构造函数的显式原型的值" data-v-8020d99a>3、对象的隐式原型的值为其对应构造函数的显式原型的值</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_4、内部结构图" class="sidebar-link reco-side-_4、内部结构图" data-v-8020d99a>4、内部结构图</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_5、总结" class="sidebar-link reco-side-_5、总结" data-v-8020d99a>5、总结</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_03-原型链" class="sidebar-link reco-side-_03-原型链" data-v-8020d99a>03 原型链</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、原型链-隐式原型链-图解" class="sidebar-link reco-side-_1、原型链-隐式原型链-图解" data-v-8020d99a>1、原型链（隐式原型链）（图解）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、构造函数-原型-实体对象的关系-图解" class="sidebar-link reco-side-_2、构造函数-原型-实体对象的关系-图解" data-v-8020d99a>2、构造函数/原型/实体对象的关系（图解）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、构造函数-原型-实体对象的关系2-图解" class="sidebar-link reco-side-_3、构造函数-原型-实体对象的关系2-图解" data-v-8020d99a>3、构造函数/原型/实体对象的关系2（图解）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_4、函数的显式原型指向的对象默认是空object实例对象-除object不满足" class="sidebar-link reco-side-_4、函数的显式原型指向的对象默认是空object实例对象-除object不满足" data-v-8020d99a>4、函数的显式原型指向的对象默认是空Object实例对象（除Object不满足）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#即-xxx-prototype-instanceof-object" class="sidebar-link reco-side-即-xxx-prototype-instanceof-object" data-v-8020d99a>即: xxx.prototype instanceof Object</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_5、所有函数都是function的实例-包括function" class="sidebar-link reco-side-_5、所有函数都是function的实例-包括function" data-v-8020d99a>5、所有函数都是Function的实例（包括Function）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#即-xxx-proto-function-prototype" class="sidebar-link reco-side-即-xxx-proto-function-prototype" data-v-8020d99a>即：xxx.__proto__   = Function.prototype</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_6、object的原型对象是原型链尽头" class="sidebar-link reco-side-_6、object的原型对象是原型链尽头" data-v-8020d99a>6、Object的原型对象是原型链尽头</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_04-原型链属性问题" class="sidebar-link reco-side-_04-原型链属性问题" data-v-8020d99a>04 原型链属性问题</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_05-instanceof-探索" class="sidebar-link reco-side-_05-instanceof-探索" data-v-8020d99a>05 instanceof 探索</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、instanceof-是如何判断的" class="sidebar-link reco-side-_1、instanceof-是如何判断的" data-v-8020d99a>1、instanceof 是如何判断的</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_06-面试题-原型与原型链" class="sidebar-link reco-side-_06-面试题-原型与原型链" data-v-8020d99a>06 面试题（原型与原型链）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、测试题1" class="sidebar-link reco-side-_1、测试题1" data-v-8020d99a>1、测试题1</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、测试题2" class="sidebar-link reco-side-_2、测试题2" data-v-8020d99a>2、测试题2</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_07-变量提升与函数提升" class="sidebar-link reco-side-_07-变量提升与函数提升" data-v-8020d99a>07 变量提升与函数提升</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、变量声明提升" class="sidebar-link reco-side-_1、变量声明提升" data-v-8020d99a>1、变量声明提升</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、函数声明提升" class="sidebar-link reco-side-_2、函数声明提升" data-v-8020d99a>2、函数声明提升</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_08-执行上下文" class="sidebar-link reco-side-_08-执行上下文" data-v-8020d99a>08 执行上下文</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、代码分类-位置" class="sidebar-link reco-side-_1、代码分类-位置" data-v-8020d99a>1、代码分类（位置）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、全局执行上下文-在执行全局代码前做的准备工作" class="sidebar-link reco-side-_2、全局执行上下文-在执行全局代码前做的准备工作" data-v-8020d99a>2、全局执行上下文(在执行全局代码前做的准备工作)</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、函数执行上下文" class="sidebar-link reco-side-_3、函数执行上下文" data-v-8020d99a>3、函数执行上下文</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_4、执行上下文对象个数-n-1原则" class="sidebar-link reco-side-_4、执行上下文对象个数-n-1原则" data-v-8020d99a>4、执行上下文对象个数：n+1原则</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_09-执行上下文栈-后进先出lifo" class="sidebar-link reco-side-_09-执行上下文栈-后进先出lifo" data-v-8020d99a>09 执行上下文栈(后进先出LIFO)</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_10-面试题-执行上下文与执行上下文栈" class="sidebar-link reco-side-_10-面试题-执行上下文与执行上下文栈" data-v-8020d99a>10 面试题（执行上下文与执行上下文栈）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、面试题1" class="sidebar-link reco-side-_1、面试题1" data-v-8020d99a>1、面试题1</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、面试题2" class="sidebar-link reco-side-_2、面试题2" data-v-8020d99a>2、面试题2</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、面试题" class="sidebar-link reco-side-_3、面试题" data-v-8020d99a>3、面试题</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_11-作用域" class="sidebar-link reco-side-_11-作用域" data-v-8020d99a>11 作用域</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、理解-2" class="sidebar-link reco-side-_1、理解-2" data-v-8020d99a>1、理解</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、分类" class="sidebar-link reco-side-_2、分类" data-v-8020d99a>2、分类</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、作用域个数-n-1-m" class="sidebar-link reco-side-_3、作用域个数-n-1-m" data-v-8020d99a>3、作用域个数：n+1+m</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_4、作用" class="sidebar-link reco-side-_4、作用" data-v-8020d99a>4、作用</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_12-作用域与执行上下文" class="sidebar-link reco-side-_12-作用域与执行上下文" data-v-8020d99a>12 作用域与执行上下文</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、区别1" class="sidebar-link reco-side-_1、区别1" data-v-8020d99a>1、区别1</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、区别2" class="sidebar-link reco-side-_2、区别2" data-v-8020d99a>2、区别2</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、联系" class="sidebar-link reco-side-_3、联系" data-v-8020d99a>3、联系</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_13-作用域链" class="sidebar-link reco-side-_13-作用域链" data-v-8020d99a>13 作用域链</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、理解-3" class="sidebar-link reco-side-_1、理解-3" data-v-8020d99a>1、理解</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、查找一个变量的查找规则" class="sidebar-link reco-side-_2、查找一个变量的查找规则" data-v-8020d99a>2、查找一个变量的查找规则</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_14-面试题-作用域与作用链" class="sidebar-link reco-side-_14-面试题-作用域与作用链" data-v-8020d99a>14 面试题（作用域与作用链）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、面试题1-2" class="sidebar-link reco-side-_1、面试题1-2" data-v-8020d99a>1、面试题1</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、面试题2-2" class="sidebar-link reco-side-_2、面试题2-2" data-v-8020d99a>2、面试题2</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_15-闭包" class="sidebar-link reco-side-_15-闭包" data-v-8020d99a>15 闭包</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、如何产生闭包" class="sidebar-link reco-side-_1、如何产生闭包" data-v-8020d99a>1、如何产生闭包？</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、闭包到底是什么" class="sidebar-link reco-side-_2、闭包到底是什么" data-v-8020d99a>2、闭包到底是什么？</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、产生闭包的条件" class="sidebar-link reco-side-_3、产生闭包的条件" data-v-8020d99a>3、产生闭包的条件？</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_16-常见的闭包" class="sidebar-link reco-side-_16-常见的闭包" data-v-8020d99a>16 常见的闭包</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、将函数作为另一个函数的返回值" class="sidebar-link reco-side-_1、将函数作为另一个函数的返回值" data-v-8020d99a>1、将函数作为另一个函数的返回值</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、将函数作为实参传递给另一个函数调用" class="sidebar-link reco-side-_2、将函数作为实参传递给另一个函数调用" data-v-8020d99a>2、将函数作为实参传递给另一个函数调用</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、问题" class="sidebar-link reco-side-_3、问题" data-v-8020d99a>3、问题：</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_4、闭包的作用" class="sidebar-link reco-side-_4、闭包的作用" data-v-8020d99a>4、闭包的作用：</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_5、闭包的生命周期" class="sidebar-link reco-side-_5、闭包的生命周期" data-v-8020d99a>5、闭包的生命周期</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_6、闭包的应用-自定义js模块" class="sidebar-link reco-side-_6、闭包的应用-自定义js模块" data-v-8020d99a>6、闭包的应用_自定义JS模块</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_7、闭包的缺点" class="sidebar-link reco-side-_7、闭包的缺点" data-v-8020d99a>7、闭包的缺点</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_8、面试题" class="sidebar-link reco-side-_8、面试题" data-v-8020d99a>8、面试题</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_17-纯函数" class="sidebar-link reco-side-_17-纯函数" data-v-8020d99a>17 纯函数</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#纯函数好处" class="sidebar-link reco-side-纯函数好处" data-v-8020d99a>纯函数好处</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_18-柯里化-currying" class="sidebar-link reco-side-_18-柯里化-currying" data-v-8020d99a>18 柯里化（Currying）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#柯里化总结" class="sidebar-link reco-side-柯里化总结" data-v-8020d99a>柯里化总结：</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_18函数组合" class="sidebar-link reco-side-_18函数组合" data-v-8020d99a>18函数组合</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_19-高阶函数" class="sidebar-link reco-side-_19-高阶函数" data-v-8020d99a>19 高阶函数</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_20-function" class="sidebar-link reco-side-_20-function" data-v-8020d99a>20 !function(){}()</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_21-with语句" class="sidebar-link reco-side-_21-with语句" data-v-8020d99a>21 with语句</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_22-eval-函数" class="sidebar-link reco-side-_22-eval-函数" data-v-8020d99a>22 eval 函数</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_01-对象创建模式" class="sidebar-link reco-side-_01-对象创建模式" data-v-8020d99a>01 对象创建模式</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_02-继承模式" class="sidebar-link reco-side-_02-继承模式" data-v-8020d99a>02 继承模式</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#方式一-原型链继承" class="sidebar-link reco-side-方式一-原型链继承" data-v-8020d99a>方式一：原型链继承</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#方式二-借用构造函数继承-假的" class="sidebar-link reco-side-方式二-借用构造函数继承-假的" data-v-8020d99a>方式二：借用构造函数继承（假的）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#方式三-原型链-借用构造函数的组合继承" class="sidebar-link reco-side-方式三-原型链-借用构造函数的组合继承" data-v-8020d99a>方式三：原型链 + 借用构造函数的组合继承</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_01-进程与线程" class="sidebar-link reco-side-_01-进程与线程" data-v-8020d99a>01 进程与线程</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、进程-process" class="sidebar-link reco-side-_1、进程-process" data-v-8020d99a>1、进程（process）</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、-线程-thread" class="sidebar-link reco-side-_2、-线程-thread" data-v-8020d99a>2、 线程 (thread)</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、相关知识" class="sidebar-link reco-side-_3、相关知识" data-v-8020d99a>3、相关知识</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_4、相关问题" class="sidebar-link reco-side-_4、相关问题" data-v-8020d99a>4、相关问题</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_02-浏览器内核" class="sidebar-link reco-side-_02-浏览器内核" data-v-8020d99a>02 浏览器内核</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_03-定时器引发的思考" class="sidebar-link reco-side-_03-定时器引发的思考" data-v-8020d99a>03 定时器引发的思考</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、定时器真的是定时执行的嘛" class="sidebar-link reco-side-_1、定时器真的是定时执行的嘛" data-v-8020d99a>1、定时器真的是定时执行的嘛？</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、定时器回调函数是在分线程执行的嘛" class="sidebar-link reco-side-_2、定时器回调函数是在分线程执行的嘛" data-v-8020d99a>2、定时器回调函数是在分线程执行的嘛？</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_04-js是单线程的" class="sidebar-link reco-side-_04-js是单线程的" data-v-8020d99a>04 JS是单线程的</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、如何证明js执行是单线程的" class="sidebar-link reco-side-_1、如何证明js执行是单线程的" data-v-8020d99a>1、如何证明js执行是单线程的？</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、为什么js要用单线程模式-而不用多线程" class="sidebar-link reco-side-_2、为什么js要用单线程模式-而不用多线程" data-v-8020d99a>2、为什么js要用单线程模式，而不用多线程？</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、代码的分类" class="sidebar-link reco-side-_3、代码的分类" data-v-8020d99a>3、代码的分类：</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_4、js引擎执行代码的基本流程" class="sidebar-link reco-side-_4、js引擎执行代码的基本流程" data-v-8020d99a>4、js引擎执行代码的基本流程</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_05-事件循环模型" class="sidebar-link reco-side-_05-事件循环模型" data-v-8020d99a>05 事件循环模型</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_06-相关重要概念" class="sidebar-link reco-side-_06-相关重要概念" data-v-8020d99a>06 相关重要概念</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_1、执行栈" class="sidebar-link reco-side-_1、执行栈" data-v-8020d99a>1、执行栈</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_2、浏览器内核" class="sidebar-link reco-side-_2、浏览器内核" data-v-8020d99a>2、浏览器内核</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_3、任务队列-task-queue" class="sidebar-link reco-side-_3、任务队列-task-queue" data-v-8020d99a>3、任务队列 task queue</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_4、消息队列-message-queue" class="sidebar-link reco-side-_4、消息队列-message-queue" data-v-8020d99a>4、消息队列 message queue</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_5、事件队列-event-queue" class="sidebar-link reco-side-_5、事件队列-event-queue" data-v-8020d99a>5、事件队列 event queue</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_6、事件轮询-event-loop" class="sidebar-link reco-side-_6、事件轮询-event-loop" data-v-8020d99a>6、事件轮询 event loop</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_7、事件驱动模型-event-driven-interaction-model" class="sidebar-link reco-side-_7、事件驱动模型-event-driven-interaction-model" data-v-8020d99a>7、事件驱动模型 event-driven interaction model</a></li><li class="level-3" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_8、请求响应模型-request-response-model" class="sidebar-link reco-side-_8、请求响应模型-request-response-model" data-v-8020d99a>8、请求响应模型 request-response model</a></li><li class="level-2" data-v-8020d99a><a href="/blogs/notes/JS/JSnotes.html#_07-h5-web-workers" class="sidebar-link reco-side-_07-h5-web-workers" data-v-8020d99a>07 H5 Web Workers</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      再次遇见你啦!
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="position:fixed;left:5vw;bottom:0;opacity:0.9;z-index:99999;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div><div></div><canvas id="vuepress-canvas-cursor"></canvas><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://music.163.com/song/media/outer/url?id=25706282" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="http://p1.music.126.net/Eef2K2KV9dT3XUA6_Ve-Rw==/109951165543196748.jpg?param=130y130" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:1rem;bottom:1rem;z-index:99999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(http://p1.music.126.net/Eef2K2KV9dT3XUA6_Ve-Rw==/109951165543196748.jpg?param=130y130);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>夜空中最亮的星</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>逃跑计划</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><!----></div></div>
    <script src="/assets/js/app.63ebb374.js" defer></script><script src="/assets/js/6.84a570ca.js" defer></script><script src="/assets/js/18.e2a079ee.js" defer></script><script src="/assets/js/14.2c456fe0.js" defer></script>
  </body>
</html>
